(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277,6243],{35977:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(19013),i=t(13882);function o(e,n){(0,i.Z)(2,arguments);var t=(0,r.Z)(e),o=(0,r.Z)(n);return t.getTime()-o.getTime()}function l(e,n){(0,i.Z)(2,arguments);var t=o(e,n)/1e3;return t>0?Math.floor(t):Math.ceil(t)}},7055:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(49474),i=t(19013),o=t(13882);function l(e,n){(0,o.Z)(2,arguments);var t=(0,i.Z)(e),r=(0,i.Z)(n),l=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return 12*l+a}function a(e){(0,o.Z)(1,arguments);var n=(0,i.Z)(e);return n.setHours(23,59,59,999),n}function s(e){(0,o.Z)(1,arguments);var n=(0,i.Z)(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function u(e){(0,o.Z)(1,arguments);var n=(0,i.Z)(e);return a(n).getTime()===s(n).getTime()}function c(e,n){(0,o.Z)(2,arguments);var t,a=(0,i.Z)(e),s=(0,i.Z)(n),c=(0,r.Z)(a,s),d=Math.abs(l(a,s));if(d<1)t=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*d);var f=(0,r.Z)(a,s)===-c;u((0,i.Z)(e))&&1===d&&1===(0,r.Z)(e,s)&&(f=!1),t=c*(d-Number(f))}return 0===t?0:t}var d=t(35977),f=t(35077),p=t(82268),h=t(24262),m=1440,v=43200;function Z(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(2,arguments);var l=t.locale||f.Z;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=(0,r.Z)(e,n);if(isNaN(a))throw new RangeError("Invalid time value");var s,u,Z=(0,p.Z)(t);Z.addSuffix=Boolean(t.addSuffix),Z.comparison=a,a>0?(s=(0,i.Z)(n),u=(0,i.Z)(e)):(s=(0,i.Z)(e),u=(0,i.Z)(n));var g,b=(0,d.Z)(u,s),w=((0,h.Z)(u)-(0,h.Z)(s))/1e3,x=Math.round((b-w)/60);if(x<2)return t.includeSeconds?b<5?l.formatDistance("lessThanXSeconds",5,Z):b<10?l.formatDistance("lessThanXSeconds",10,Z):b<20?l.formatDistance("lessThanXSeconds",20,Z):b<40?l.formatDistance("halfAMinute",null,Z):b<60?l.formatDistance("lessThanXMinutes",1,Z):l.formatDistance("xMinutes",1,Z):0===x?l.formatDistance("lessThanXMinutes",1,Z):l.formatDistance("xMinutes",x,Z);if(x<45)return l.formatDistance("xMinutes",x,Z);if(x<90)return l.formatDistance("aboutXHours",1,Z);if(x<m){var y=Math.round(x/60);return l.formatDistance("aboutXHours",y,Z)}if(x<2520)return l.formatDistance("xDays",1,Z);if(x<v){var C=Math.round(x/m);return l.formatDistance("xDays",C,Z)}if(x<86400)return g=Math.round(x/v),l.formatDistance("aboutXMonths",g,Z);if((g=c(u,s))<12){var R=Math.round(x/v);return l.formatDistance("xMonths",R,Z)}var k=g%12,U=Math.floor(g/12);return k<3?l.formatDistance("aboutXYears",U,Z):k<9?l.formatDistance("overXYears",U,Z):l.formatDistance("almostXYears",U+1,Z)}},82730:function(e,n,t){!function(e,n){"use strict";function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e){var n,t,r,o,a,s,u,c,p,h,m,v,Z,g,b,w,x,y,C,R,k,U,P,S,B,I,E,D,G,_,M,X,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W="data-keen-slider-moves",A="data-keen-slider-v",O=[],L=null,N=!1,z=!1,j=0,V=[];function H(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(n,t,r),O.push([e,n,t,r])}function $(e){if(y&&C===K(e)&&ae()){var t=Q(e).x;if(!ne(e)&&S)return Y(e);S&&(Ne(),R=t,n.setAttribute(W,!0),S=!1),e.cancelable&&e.preventDefault(),_e(P(R-t,Fe)*(ue()?-1:1),e.timeStamp),R=t}}function F(e){y||!ae()||ee(e.target)||(y=!0,S=!0,C=K(e),ne(e),pe(),x=h,R=Q(e).x,_e(0,e.timeStamp),oe("dragStart"))}function Y(e){y&&C===K(e,!0)&&ae()&&(n.removeAttribute(W),y=!1,ve(),oe("dragEnd"))}function q(e){return e.changedTouches}function K(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?q(e):J(e);return n?n[0]?n[0].identifier:"error":"default"}function J(e){return e.targetTouches}function Q(e){var n=J(e);return{x:de()?n?n[0].screenY:e.pageY:n?n[0].screenX:e.pageX,timestamp:e.timeStamp}}function ee(e){return e.hasAttribute(w.preventEvent)}function ne(e){var n=J(e);if(!n)return!0;var t=n[0],r=de()?t.clientY:t.clientX,i=de()?t.clientX:t.clientY,o=void 0!==k&&void 0!==U&&Math.abs(U-i)<=Math.abs(k-r);return k=r,U=i,o}function te(e){ae()&&y&&e.preventDefault()}function re(){H(window,"orientationchange",Be),H(window,"resize",(function(){return Se()})),H(n,"dragstart",(function(e){ae()&&e.preventDefault()})),H(n,"mousedown",F),H(w.cancelOnLeave?n:window,"mousemove",$),w.cancelOnLeave&&H(n,"mouseleave",Y),H(window,"mouseup",Y),H(n,"touchstart",F,{passive:!0}),H(n,"touchmove",$,{passive:!1}),H(n,"touchend",Y,{passive:!0}),H(n,"touchcancel",Y,{passive:!0}),H(window,"wheel",te,{passive:!1})}function ie(){O.forEach((function(e){e[0].removeEventListener(e[1],e[2],e[3])})),O=[]}function oe(e){w[e]&&w[e](Fe)}function le(){return w.centered}function ae(){return void 0!==t?t:w.controls}function se(){return w.loop&&r>1}function ue(){return w.rtl}function ce(){return!w.loop&&w.rubberband}function de(){return!!w.vertical}function fe(){B=window.requestAnimationFrame(he)}function pe(){B&&(window.cancelAnimationFrame(B),B=null),I=null}function he(e){I||(I=e);var n=e-I,t=me(n);if(n>=D)return _e(E-_,!1),X?X():void oe("afterChange");var r=Me(t);if(0===r||se()||ce()||M){if(0!==r&&ce()&&!M)return xe();_+=t,_e(t,!1),fe()}else _e(t-r,!1)}function me(e){return E*G(e/D)-_}function ve(){switch(oe("beforeChange"),w.mode){case"free":be();break;case"free-snap":we();break;default:Ze()}}function Ze(){ge((1===u&&0!==m?x:h)+Math.sign(m))}function ge(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.duration,r=function(e){return 1+--e*e*e*e*e};ye(Ae(e=We(e,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])),t,r,n)}function be(){if(0===Z)return!(!Me(0)||se())&&ge(h);var e=w.friction/Math.pow(Math.abs(Z),-.5);ye(Math.pow(Z,2)/e*Math.sign(Z),6*Math.abs(Z/e),(function(e){return 1-Math.pow(1-e,5)}))}function we(){if(0===Z)return ge(h);var e=w.friction/Math.pow(Math.abs(Z),-.5),n=Math.pow(Z,2)/e*Math.sign(Z),t=6*Math.abs(Z/e),r=(j+n)/(s/u);ye((-1===m?Math.floor(r):Math.ceil(r))*(s/u)-j,t,(function(e){return 1-Math.pow(1-e,5)}))}function xe(){if(pe(),0===Z)return ge(h,!0);var e=.04/Math.pow(Math.abs(Z),-.5),n=Math.pow(Z,2)/e*Math.sign(Z),t=function(e){return--e*e*e+1},r=Z;ye(n,3*Math.abs(r/e),t,!0,(function(){ye(Ae(We(h)),500,t,!0)}))}function ye(e,n,t,r,i){pe(),E=e,_=0,D=n,G=t,M=r,X=i,I=null,fe()}function Ce(t){var r=d(e);r.length&&(n=r[0],Se(t),re(),oe("mounted"))}function Re(){var e,n=T.breakpoints||[];for(var t in n)window.matchMedia(t).matches&&(e=t);if(e===L)return!0;var r=(L=e)?n[L]:T;r.breakpoints&&L&&delete r.breakpoints,w=i(i(i({},$e),T),r),N=!0,p=null,Pe()}function ke(e){return"function"==typeof e?e():f(e,1,Math.max(se()?r-1:r,1))}function Ue(){Re(),z=!0,oe("created")}function Pe(e,n){e&&(T=e),n&&(L=null),Ie(),Ce(n)}function Se(e){var t=window.innerWidth;if(Re()&&(t!==p||e)){p=t;var i=w.slides;"number"==typeof i?(a=null,r=i):(a=d(i,n),r=a?a.length:0);var l=w.dragSpeed;P="function"==typeof l?l:function(e){return e*l},s=de()?n.offsetHeight:n.offsetWidth,u=ke(w.slidesPerView),c=f(w.spacing,0,s/(u-1)-1),s+=c,o=le()?(s/2-s/u/2)/s:0,De();var m=!z||N&&w.resetSlide?w.initial:h;He(se()?m:Xe(m)),de()&&n.setAttribute(A,!0),N=!1}}function Be(e){Se(),setTimeout(Se,500),setTimeout(Se,2e3)}function Ie(){ie(),Ge(),n&&n.hasAttribute(A)&&n.removeAttribute(A),oe("destroyed")}function Ee(){a&&a.forEach((function(e,n){var t=g[n].distance*s-n*(s/u-c/u-c/u*(u-1)),r=de()?0:t,i=de()?t:0,o="translate3d(".concat(r,"px, ").concat(i,"px, 0)");e.style.transform=o,e.style["-webkit-transform"]=o}))}function De(){a&&a.forEach((function(e){var n="calc(".concat(100/u,"% - ").concat(c/u*(u-1),"px)");de()?(e.style["min-height"]=n,e.style["max-height"]=n):(e.style["min-width"]=n,e.style["max-width"]=n)}))}function Ge(){if(a){var e=["transform","-webkit-transform"];e=[].concat(l(e),de?["min-height","max-height"]:["min-width","max-width"]),a.forEach((function(n){e.forEach((function(e){n.style.removeProperty(e)}))}))}}function _e(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Le(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()),n&&(e=je(e)),j+=e,ze()}function Me(e){var n=s*(r-1*(le()?1:u))/u,t=j+e;return t>n?t-n:t<0?t:0}function Xe(e){return f(e,0,r-1-(le()?0:u-1))}function Te(){var e=Math.abs(b),n=j<0?1-e:e;return{direction:m,progressTrack:n,progressSlides:n*r/(r-1),positions:g,position:j,speed:Z,relativeSlide:(h%r+r)%r,absoluteSlide:h,size:r,slidesPerView:u,widthOrHeight:s}}function We(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return se()?n?Oe(e,t):e:Xe(e)}function Ae(e){return-(-s/u*e+j)}function Oe(e,n){var t=(h%r+r)%r,i=t<(e=(e%r+r)%r)?-t-r+e:-(t-e),o=t>e?r-t+e:e-t,l=n?Math.abs(i)<=o?i:o:e<t?i:o;return h+l}function Le(e,n){clearTimeout(v);var t=Math.sign(e);if(t!==m&&Ne(),m=t,V.push({distance:e,time:n}),v=setTimeout((function(){V=[],Z=0}),50),(V=V.slice(-6)).length<=1||0===m)return Z=0;var r=V.slice(0,-1).reduce((function(e,n){return e+n.distance}),0),i=V[V.length-1].time,o=V[0].time;Z=f(r/(i-o),-10,10)}function Ne(){V=[]}function ze(){b=se()?j%(s*r/u)/(s*r/u):j/(s*r/u),Ve();for(var e=[],n=0;n<r;n++){var t=(1/r*n-(b<0&&se()?b+1:b))*r/u+o;se()&&(t+=t>(r-1)/u?-r/u:t<-r/u+1?r/u:0);var i=1/u,l=t+i,a=l<i?l/i:l>1?1-(l-1)*u/1:1;e.push({portion:a<0||a>1?0:a,distance:ue()?-1*t+1-i:t})}g=e,Ee(),oe("move")}function je(e){if(se())return e;var n,t=Me(e);return ce()?0===t?e:e*(n=t/s,(1-Math.abs(n))*(1-Math.abs(n))):e-t}function Ve(){var e=Math.round(j/(s/u));e!==h&&(!se()&&(e<0||e>r-1)||(h=e,oe("slideChanged")))}function He(e){oe("beforeChange"),_e(Ae(e),!1),oe("afterChange")}var $e={centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:"data-keen-slider-pe",slides:".keen-slider__slide",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:"snap",rtl:!1,rubberband:!0,cancelOnLeave:!0},Fe={controls:function(e){t=e},destroy:Ie,refresh:function(e){Pe(e,!0)},next:function(){ge(h+1,!0)},prev:function(){ge(h-1,!0)},moveToSlide:function(e,n){ge(e,!0,n)},moveToSlideRelative:function(e){ge(e,!0,arguments.length>2?arguments[2]:void 0,!0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},resize:function(){Se(!0)},details:function(){return Te()},options:function(){var e=i({},w);return delete e.breakpoints,e}};return Ue(),Fe}function c(e){return Array.prototype.slice.call(e)}function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"function"==typeof e?c(e()):"string"==typeof e?c(n.querySelectorAll(e)):e instanceof HTMLElement!=0?[e]:e instanceof NodeList!=0?e:[]}function f(e,n,t){return Math.min(Math.max(e,n),t)}Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e});var p=function e(n,t){var r=Object.prototype.toString.call(n);if(r!==Object.prototype.toString.call(t))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var i="[object Array]"===r?n.length:Object.keys(n).length;if(i!==("[object Array]"===r?t.length:Object.keys(t).length))return!1;var o=function(n,t){var r=Object.prototype.toString.call(n);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(n,t))return!1}else{if(r!==Object.prototype.toString.call(t))return!1;if("[object Function]"===r){if(n.toString()!==t.toString())return!1}else if(n!==t)return!1}};if("[object Array]"===r){for(var l=0;l<i;l++)if(!1===o(n[l],t[l]))return!1}else for(var a in n)if(n.hasOwnProperty(a)&&!1===o(n[a],t[a]))return!1;return!0};e.default=u,e.useKeenSlider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.useRef(),r=n.useRef();function i(e){return p(r.current,e)||(r.current=e),r.current}var l=o(n.useState(null),2),a=l[0],s=l[1];return n.useEffect((function(){var e=new u(t.current,r.current);return s(e),function(){e.destroy()}}),[i(e)]),[t,a]},Object.defineProperty(e,"__esModule",{value:!0})}(n,t(67294))},34270:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(12299)}])},62441:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(34727),i=t(9941),o=t(70655),l=t(35944),a=t(87603),s=t.n(a),u=t(67294),c=t(28898),d=t(60459),f=t(93058),p=t(62722),h=t(7657),m=t(15085);function v(e){var n=e.currentUser,t=e.onChange,a=(0,f.Z)(),v=a.showError,Z=a.showConfirm,g=(0,i.Z)(u.useState(n.image),2),b=g[0],w=g[1];u.useEffect((function(){return w(n.image)}),[n.image]);var x=(0,d.Z)({onUpload:function(e){var n=e.id;return t({imageId:n})},onUploadPreview:function(e){var n=e.dataUrl;w(n),Z("Uploading profile image")},onError:function(e){return v(e.message)}}),y=function(){var e=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){return e.preventDefault(),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,l.BX)("div",{className:"jsx-362e6927095639b7 profile-image",children:[(0,l.tZ)(m.G7,{css:{width:"inherit"},children:n.hasPrivacyRole?(0,l.tZ)(c.Z,{size:"inherit",url:b}):(0,l.BX)("div",{onDrop:function(e){var n,t;e.preventDefault();var r=null===(n=e.dataTransfer)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];r&&(r.type.startsWith("image/")?x.uploadImage(r,h.N.ProfileImage):v("Expected an image file"))},onDragOver:y,className:"jsx-362e6927095639b7 drop-target",children:[(0,l.tZ)(c.Z,{size:"inherit",url:b}),(0,l.BX)("label",{className:"jsx-362e6927095639b7",children:[(0,l.tZ)("input",{accept:p.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&(null===r||void 0===r?void 0:r.length)&&x.uploadImage(r[0],h.N.ProfileImage)},className:"jsx-362e6927095639b7"}),(0,l.tZ)("span",{className:"jsx-362e6927095639b7",children:"Drag or upload"})]})]})}),(0,l.tZ)(s(),{id:"362e6927095639b7",children:".drop-target.jsx-362e6927095639b7{position:relative;width:inherit;text-align:center}.drop-target.jsx-362e6927095639b7:hover label.jsx-362e6927095639b7{opacity:1}label.jsx-362e6927095639b7{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:var(--foreground-default);background-color:var(--background-overlay);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;font-size:var(--font-size-default)}input.jsx-362e6927095639b7{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.error.jsx-362e6927095639b7{text-align:center;font-size:var(--font-size-default);color:var(--accent-negative-default)}.profile-image.jsx-362e6927095639b7{width:inherit}"})]})}},61046:function(e,n,t){"use strict";t.d(n,{m:function(){return f}});var r=t(14251),i=t(52875),o=t(44747),l=t(9941),a=t(35944),s=t(67294),u=t(61756),c=t(79500),d=t(66060);function f(e){var n=e.textToCopy,t=e.tooltip,f=(0,o.Z)(e,["textToCopy","tooltip"]),p=(0,l.Z)(s.useState(!1),2),h=p[0],m=p[1],v=s.useRef(null);return s.useEffect((function(){return function(){v.current&&clearTimeout(v.current)}}),[]),(0,a.tZ)(d.ZP,{isOpen:h,tooltip:null!==t&&void 0!==t?t:"".concat(n," copied to clipboard"),placement:"bottom-end",children:(0,a.tZ)(u.ZP,(0,i.Z)((0,r.Z)({},f),{onClick:function(e){(0,c.Z)(n),m(!0),v.current&&clearTimeout(v.current),v.current=setTimeout((function(){return m(!1)}),4e3),f.onClick&&f.onClick(e)}}))})}},71745:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(35944),i=(t(67294),t(70917)),o=t(11163),l=t(62913),a=t(69346),s=t(81255),u=t(73147),c=t(15902),d=function(){return(0,r.tZ)("svg",{width:"6px",height:"9px",viewBox:"0 0 6 9",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.tZ)("g",{children:(0,r.BX)("g",{fill:"var(--accent-yellow-default)",children:[(0,r.tZ)("rect",{x:"0",y:"0",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"3",y:"3",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"0",y:"6",width:"3",height:"3"})]})})})},f=(0,i.F4)("\n  0% {\n    width: 16px;\n  }\n  10% {\n    width: 16px;\n  }\n  100% {\n    width: 100%;\n  }\n"),p=(0,i.F4)("\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 0%;\n  }\n  100% {\n    width: 100%;\n  }\n"),h=(0,i.F4)("\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n");function m(){var e=(0,o.useRouter)();return(0,c.Vg)(e)?(0,r.tZ)(a.Z,{css:[s.l0.position.relative,s.l0.flex.column,s.l0.center,s.l0.color.foregroundDimmer,s.l0.minHeight("calc(100vh - 100px)")],children:(0,r.tZ)(a.Z,{children:(0,r.tZ)(l.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})})}):(0,r.BX)(a.Z,{css:[s.l0.position.relative,s.l0.flex.column,s.l0.center,s.l0.color.foregroundDimmer,s.l0.minHeight("calc(100vh - 100px)")],children:[(0,r.tZ)(a.Z,{children:(0,r.tZ)(l.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})}),(0,r.BX)(a.Z,{css:[s.l0.justify.center,s.l0.flex.column,s.l0.pl(8),s.l0.pr(8),s.l0.fontSize(s.TV.fontSizeSubheadDefault),s.l0.color.accentNegativeStronger,s.l0.minHeight("70px"),{margin:"0 auto"}],children:[(0,r.BX)(a.Z,{css:[s.l0.pl(16),s.l0.overflow("hidden"),s.l0.position.relative,{whiteSpace:"nowrap"},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}},{animation:"".concat(f," 2.5s steps(60, end)")}],children:[(0,r.BX)(a.Z,{css:[s.l0.flex.row,s.l0.align.center],children:[(0,r.tZ)(a.Z,{css:[s.l0.position.absolute,s.l0.left(0),{"@media(max-width:550px)":{top:8}}],children:(0,r.tZ)(d,{})}),"Not found error: This is not the page you\u2019re looking for."]}),(0,r.tZ)(a.Z,{tag:"br"})]}),(0,r.BX)(a.Z,{css:[s.l0.display.block,s.l0.pl(16),s.l0.overflow("hidden"),{lineHeight:"25px"},{whiteSpace:"nowrap"},{animation:"".concat(p," 5s steps(60, end)")},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}}],children:["If you think this is a mistake, check the"," ",(0,r.tZ)("a",{href:u.K5,children:"status page"})," for active incidents,"," ",(0,r.tZ)("a",{href:u.av,children:"contact support"})," or"," ",(0,r.tZ)("a",{href:u.xz,children:"ask the community"}),"."," ",(0,r.tZ)(a.Z,{tag:"span",css:[s.l0.display.inline,s.l0.color.accentNegativeStronger,{animation:"".concat(h," 1s infinite")}],children:"_"})]})]})]})}},13625:function(e,n,t){"use strict";t.d(n,{p:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment PostLinkPost on Post {\n    id\n    url\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},76149:function(e,n,t){"use strict";t.d(n,{i:function(){return r}});var r=function(e){return{as:e.url,href:{pathname:"/post",query:{id:String(e.id)}}}}},49833:function(e,n,t){"use strict";t.d(n,{Z:function(){return M}});var r=t(14251),i=t(52875),o=t(9941),l=t(69779),a=t(35944),s=t(67294),u=t(32692),c=t(31230),d=t(37887);function f(){var e=(0,u.Z)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return f=function(){return e},e}function p(){var e=(0,u.Z)(["\n  query ReplSelector($search: String!, $excludePrivate: Boolean) {\n    currentUser {\n      id\n      replSearch(search: $search, excludePrivate: $excludePrivate) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},m=(0,c.Ps)(f()),v=(0,c.Ps)(p(),m);var Z=t(96594),g=t(1144),b=t(24351),w=t(93604),x=t(16965),y=t(53427),C=t(77365),R=t(69346),k=t(81255),U=t(70917),P=t(44044),S=t(87653),B=t(25019),I=t(4306),E=R.K.input,D=R.K.div,G=R.K.li,_=(0,U.iv)([P.gU.filled,k.l0.p(8),{color:k.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:k.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:k.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function M(e){var n,t=e.id,u=e.disabled,c=e.filter,f=e.manualSelect,p=e.excludePrivate,m=e.onSelect,U=e.selectedIconOverride,P=e.showComboBox,M=void 0===P||P,X=(0,o.Z)(s.useState([]),2),T=X[0],W=X[1],A=(0,o.Z)(s.useState(""),2),O=A[0],L=A[1],N=s.useRef(null),z=c?T.filter(c):T,j=(0,Z.Kb)({items:z,initialHighlightedIndex:f?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});s.useEffect((function(){return L(j.inputValue)}),[j.inputValue]);var V=function(e){var n=(0,r.Z)({},h,e);return d.a(v,n)}({variables:{search:(0,b.Z)(O,100),excludePrivate:p},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?W(e.currentUser.replSearch.reduce((function(e,n){return n?(0,l.Z)(e).concat([n]):e}),[])):W([])}}).loading,H=(0,x.Z)(m);s.useEffect((function(){var e;j.selectedItem&&(null===(e=N.current)||void 0===e||e.blur(),H.current(j.selectedItem))}),[j.selectedItem,H]);var $=(null===(n=j.selectedItem)||void 0===n?void 0:n.iconUrl)&&j.inputValue?(0,a.tZ)(R.Z,{css:[k.l0.px(8),k.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:U||(0,a.tZ)(y.ZP,{alt:j.selectedItem.title,iconUrl:j.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(R.Z,{css:[{position:"relative"}],children:[(0,a.BX)(D,(0,i.Z)((0,r.Z)({},j.getComboboxProps()),{css:{position:"relative"},children:[$,(0,a.tZ)(E,(0,r.Z)({css:[_,k.l0.pr(32),$&&k.l0.pl(32)]},j.getInputProps({ref:N,id:t,placeholder:"Search for a Repl",onFocus:M?function(e){j.selectedItem&&(e.preventDefault(),e.currentTarget.select(),L("")),j.openMenu()}:void 0}))),(0,a.tZ)(R.Z,{css:[k.l0.center,k.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(S.Z,{})})]})),(0,a.tZ)(D,(0,i.Z)((0,r.Z)({},j.getMenuProps()),{css:{position:"relative"},children:j.isOpen&&!u?(0,a.BX)(B.Z,{children:[V?(0,a.tZ)(G,{css:[k.l0.center,k.l0.py(32)],children:(0,a.tZ)(C.Z,{})}):null,z.length||V?null:(0,a.tZ)(G,{css:[k.l0.center,k.l0.py(32)],children:(0,a.BX)(g.x,{color:"dimmer",variant:"small",children:["No ",T.length>0?"more ":null,"repls found"]})}),z.map((function(e,n){return(0,a.tZ)(G,(0,i.Z)((0,r.Z)({},j.getItemProps({item:e,index:n})),{children:(0,a.tZ)(I.Z,{filter:O,title:e.title,subtitle:(0,w.F)(e.timeUpdated),selected:j.selectedItem===e,highlighted:j.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(y.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}},61469:function(e,n,t){"use strict";var r=t(35944),i=(t(67294),t(81255)),o=t(69346),l=t(1144);n.Z=function(e){var n=e.text;return(0,r.BX)(o.Z,{css:[i.l0.flex.row,i.l0.align.center],children:[(0,r.tZ)(o.Z,{css:[i.l0.mr(8),{borderBottom:"1px solid ".concat(i.TV.backgroundHighest),width:i.TV.space8}]}),(0,r.tZ)(l.x,{css:[i.l0.color.foregroundDimmest,i.l0.flex.shrink(1)],multiline:!0,children:n}),(0,r.tZ)(o.Z,{css:[i.l0.ml(8),i.l0.flex.grow(2),{borderBottom:"1px solid ".concat(i.TV.backgroundHighest),width:i.TV.space16}]})]})}},82908:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(9941),i=t(67294);function o(){var e=(0,r.Z)(i.useState({}),2)[1];return i.useCallback((function(){e({})}),[])}},5784:function(e,n,t){"use strict";var r=t(11163);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",t=(0,r.useRouter)(),i=t.query,o=i[e];if("boolean"===n)return"true"===o;if("number"===n){if(!o)return;var l=parseInt(o.toString(),10);if(isNaN(l))return;return l}return null===o||void 0===o?void 0:o.toString()}},35450:function(e,n,t){"use strict";t.d(n,{a:function(){return d},t:function(){return c}});var r=t(14251),i=t(52875),o=t(35944),l=(t(67294),t(33773)),a=t(15085),s=t(64080),u={visibility:"hidden",opacity:0,pointerEvents:"none"},c=function(e){var n=e.dir,t=e.slider,s=e.currentSlide;if(!t)return null;var c="left"===n,d=t.details().size,f=(c?0===s:s===d-1)?u:{},p=c?"-":"";return(0,o.tZ)(a.G7,{css:[a.l0.center,a.l0.backgroundColor.foregroundDimmest,a.l0.color.backgroundRoot,a.l0.position.absolute,a.l0.cursor.pointer,a.l0.width(36),a.l0.height(36),a.l0.top("50%"),a.l0.left(c?0:"auto"),a.l0.right(c?"auto":0),a.l0.zIndex(1),a.l0.borderRadius("full"),(0,i.Z)((0,r.Z)({opacity:.75,transform:"translateX(".concat(p,"25%) translateY(-50%)"),transition:"background 0.1s, opacity 0.1s, transform 0.1s"},f),{":hover":{transform:"translateX(".concat(p,"25%) translateY(-50%) scale(1.2)"),background:"var(--foreground-dimmer)",opacity:1}})],onClick:function(){c?t.prev():t.next()},children:(0,o.tZ)(l.Z,{size:24,rotate:c?90:-90})})},d=function(e){var n=e.slider,t=e.currentSlide,r=e.openPickModal,i=e.isOwner;if(!n)return null;var l=null===n||void 0===n?void 0:n.details().size;return(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(16),a.l0.center],children:[(0,o.tZ)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.align.center],children:Array.from({length:l},(function(e,r){var i=t===r;return(0,o.tZ)(a.G7,{css:[i?a.l0.cursor.default:a.l0.cursor.pointer,a.l0.width(16),a.l0.height(16),a.l0.justify.center,a.l0.align.center],onClick:function(){return e=r,void n.moveToSlide(e);var e},children:(0,o.tZ)(a.G7,{css:[i?a.l0.backgroundColor.accentPrimaryDefault:a.l0.backgroundColor.foregroundDimmest,a.l0.width(8),a.l0.height(8),a.l0.borderRadius("full")]})},r)}))}),i?(0,o.tZ)(a.zx,{onClick:r,iconLeft:(0,o.tZ)(s.Z,{}),text:"Edit pinned Repls",small:!0,outlined:!0}):null]})}},25330:function(e,n,t){"use strict";t.d(n,{GV:function(){return g},nJ:function(){return b}});var r=t(67573),i=t(69779),o=t(35944),l=(t(67294),t(90317)),a=t(5886),s=t(81255),u=t(69346),c=t(19255),d=t(93373),f=t(33319),p=t(57981),h=t(85565),m=t(53924),v=t(85485),Z=t(61046),g=function(e){switch(e){case l._J.Twitter:return"Twitter";case l._J.Discord:return"Discord";case l._J.Github:return"GitHub";case l._J.Linkedin:return"LinkedIn";case l._J.Youtube:return"YouTube";case l._J.Website:default:return"Website"}},b=function(e){switch(e){case l._J.Twitter:return(0,o.tZ)(h.Z,{});case l._J.Discord:return(0,o.tZ)(c.Z,{});case l._J.Github:return(0,o.tZ)(d.Z,{});case l._J.Linkedin:return(0,o.tZ)(p.Z,{});case l._J.Youtube:return(0,o.tZ)(m.Z,{});case l._J.Website:default:return(0,o.tZ)(f.Z,{})}},w=[s.l0.mb(8),s.l0.p(4),s.l0.height("inherit"),s.l0.borderRadius(4),s.l0.backgroundColor.backgroundRoot,s.l0.color.foregroundDimmer,{border:"none","&:hover":{color:s.TV.foregroundDefault}}];n.ZP=function(e){var n=e.user;return n&&n.socials.length?(0,o.tZ)(u.Z,{css:[s.l0.rowWithGap(16),s.l0.flex.wrap,s.l0.justify.start,s.l0.align.start,(0,r.Z)({userSelect:"none"},(0,v.et)("tabletMax"),{maxWidth:328})],children:n.socials.map((function(e){return"discord"===e.type?(0,o.tZ)(Z.m,{iconLeft:b(e.type),text:e.url,textToCopy:e.url,css:w},e.type):(0,o.tZ)(a.Z,{iconLeft:b(e.type),href:e.url,rel:"nofollow",target:"_blank",text:g(e.type),css:(0,i.Z)(w).concat([{textTransform:"capitalize"}])},e.type)}))}):null}},22411:function(e,n,t){"use strict";t.d(n,{h:function(){return c}});var r=t(32692),i=t(31230),o=t(13625),l=t(58121),a=t(17674),s=t(64405);function u(){var e=(0,r.Z)(["\n  fragment OldPostPost on Post {\n    id\n    title\n    preview(removeMarkdown: true, length: 150)\n    url\n    commentCount\n    isPinned\n    isAnnouncement\n    timeCreated\n    ...PostLinkPost\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    repl {\n      id\n      ...ReplPostRepl\n    }\n    board {\n      id\n      name\n      color\n    }\n    recentComments(count: 3) {\n      id\n      preview(removeMarkdown: true, length: 500)\n      timeCreated\n      user {\n        id\n        ...ReplPostRecentCommentUser\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}var c=(0,i.Ps)(u(),o.p,l.n,a.f_,s.b)},65338:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(14251),i=t(52875),o=t(35944),l=(t(67294),t(41664)),a=t.n(l),s=t(70917),u=t(1144),c=t(93160),d=t(69346),f=t(81255),p=t(71471),h=t(33179),m=t(73677),v=t(4924),Z=t(76149),g=t(44044),b=d.K.a,w=(0,s.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function x(e){var n,t=e.post,l=e.onPostClick,s=e.onTagClick,x=e.onCommentClick,y=e.onUserClick,C=t.user,R=t.repl;return C?(0,o.BX)(d.Z,{css:[f.l0.colWithGap(8)],children:[(0,o.tZ)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center],children:(0,o.tZ)(h.Z,{user:C,timeCreated:t.timeCreated,postType:"post",onUserClick:y})}),(0,o.BX)(c.Z,{css:[g.gU.filled,f.l0.borderRadius(8),f.l0.colWithGap(8),f.l0.p(8),f.l0.position.relative],children:[(0,o.BX)(d.Z,{css:[f.l0.colWithGap(16)],children:[(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.start,f.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(d.Z,{css:[f.l0.flex.growAndShrink(1),f.l0.colWithGap(4)],children:(0,o.tZ)(a(),(0,i.Z)((0,r.Z)({passHref:!0},(0,Z.i)(t)),{children:(0,o.tZ)(b,{css:[{color:"inherit"},w],onClick:l,children:(0,o.tZ)(u.x,{variant:"subheadBig",children:t.title})})}))}),(0,o.tZ)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:R?(0,o.tZ)(v.Vs,{tags:R.tags,onTagClick:s}):null})]}),(0,o.tZ)(u.x,{maxLines:2,css:{marginBottom:"0px"},children:t.preview}),R?(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,o.tZ)(p.Z,{size:16,alt:R.title,iconUrl:R.templateInfo.iconUrl}),(0,o.tZ)(u.x,{children:R.templateInfo.label})]}):null]}),(null===(n=t.recentComments)||void 0===n?void 0:n.length)?(0,o.tZ)(d.Z,{css:[f.l0.p(16)],children:(0,o.tZ)(m.Z,{onCommentClick:x,comments:t.recentComments.map((function(e){return{id:e.id,user:e.user||void 0,body:e.preview,timeCreated:e.timeCreated}}))})}):null]})]}):null}},73677:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=(t(67294),t(15085)),o=t(82447),l=t(94718),a=i.KD.a;function s(e){var n=e.comments,t=e.onCommentClick;return(0,r.tZ)(i.G7,{css:[i.l0.colWithGap(8)],children:n.map((function(e){var n=e.id,s=e.body,u=e.timeCreated,c=e.user;return c?(0,r.BX)(i.G7,{css:[i.l0.rowWithGap(8)],children:[(0,r.tZ)(l.Z,{username:c.username,children:(0,r.tZ)(o.ZP,{user:c,children:(0,r.tZ)(a,{onClick:t,children:(0,r.tZ)(i.qE,{username:c.username,src:c.image,size:16})})})}),(0,r.tZ)(l.Z,{inline:!0,username:c.username,children:(0,r.tZ)(o.ZP,{user:c,children:(0,r.tZ)(a,{onClick:t,css:[{color:i.TV.foregroundDimmer,position:"relative",zIndex:1}],children:(0,r.tZ)(i.xv,{children:c.username})})})})," ",(0,r.tZ)(i.xv,{color:"dimmest",css:[i.l0.flex.growAndShrink(1)],children:s}),(0,r.tZ)(i.EK,{date:u,textColor:"dimmest",textVariant:"small"})]},n):null}))})}},35087:function(e,n,t){"use strict";t.d(n,{mx:function(){return h}});var r=t(32692),i=t(31230),o=t(6565),l=t(17674),a=t(58121),s=t(32399),u=t(47174);function c(){var e=(0,r.Z)(["\n  fragment ReplCardPostRepl on Repl {\n    id\n    ...LikeButtonRepl\n    ...ReplPostReplCardRepl\n    recentComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,r.Z)(["\n  fragment ReplCardPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplCardPostRepl\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplCardPostCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n  }\n  ","\n"]);return f=function(){return e},e}var p=(0,i.Ps)(c(),s.R7,u.n,l.Gz),h=(0,i.Ps)(d(),o.K4,o.jN,p,l.Gz,a.n);f(),s.wO},92850:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(35944),i=(t(67294),t(69346)),o=t(93160),l=t(81255),a=t(49197),s=t(33179),u=t(73677),c=t(4924),d=t(44044),f=t(2885),p=t(83803);function h(e){var n,t=e.post,h=e.currentUser,m=e.onUserClick,v=e.onReplClick,Z=e.onTagClick,g=e.onCommentClick,b=t.user,w=t.repl;if(!b||!w)return null;var x=Boolean((null===h||void 0===h?void 0:h.isModerator)||(null===h||void 0===h?void 0:h.isAdmin));return(0,r.BX)(i.Z,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(i.Z,{css:[l.l0.rowWithGap(8),l.l0.justify.spaceBetween,l.l0.align.center],children:[(0,r.tZ)(s.K,{user:b,timeCreated:t.timeCreated,postType:"repl",onUserClick:m}),(0,r.BX)(i.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[x&&t.isHidden?(0,r.tZ)(p.EyeOff,{}):null,(0,r.tZ)(a.Z,{repl:w,currentUser:h,surface:!1}),x?(0,r.tZ)(f.Z,{repl:w,post:t,canModerate:x,source:"postsFeed"}):null]})]}),(0,r.BX)(o.Z,{elevated:!0,css:[d.gU.filledAndOutlined,l.l0.borderRadius(8),l.l0.position.relative,{overflow:"hidden"}],children:[(0,r.tZ)(o.Z,{css:[l.l0.p(8)],children:(0,r.tZ)(c.p0,{repl:w,onReplClick:v,onUserClick:m,onTagClick:Z})}),(null===(n=w.recentComments)||void 0===n?void 0:n.length)?(0,r.tZ)(i.Z,{css:[l.l0.p(8),{borderBottomLeftRadius:8,borderBottomRightRadius:8,borderTop:"0 none",backgroundColor:"var(--background-root)"}],children:(0,r.tZ)(u.Z,{comments:w.recentComments.slice(0,2),onCommentClick:g})}):null]})]})}},4472:function(e,n,t){"use strict";t.d(n,{Z:function(){return U},x:function(){return k}});var r=t(14251),i=t(52875),o=t(35944),l=(t(67294),t(41664)),a=t.n(l),s=t(70917),u=t(1144),c=t(93160),d=t(69346),f=t(81255),p=t(49197),h=t(33179),m=t(73677),v=t(69928),Z=t(4924),g=t(53427),b=t(88046),w=t(44044),x=t(2885),y=t(83803),C=d.K.a,R=(0,s.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function k(e){var n=e.replUrl,t=e.replCommentId;return{as:{pathname:n,query:{c:t}},href:{pathname:"/replView",query:{c:t,replUrl:n}}}}function U(e){var n,t=e.post,l=e.currentUser,s=e.onReplClick,k=e.onUserClick,U=e.onTagClick,P=e.onCommentClick,S=t.user,B=t.repl,I=t.replComment;if(!S||!B||!I)return null;var E=Boolean((null===l||void 0===l?void 0:l.isModerator)||(null===l||void 0===l?void 0:l.isAdmin));return(0,o.BX)(d.Z,{css:[f.l0.colWithGap(8)],children:[(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,o.tZ)(h.K,{user:S,timeCreated:t.timeCreated,postType:"post",onUserClick:k}),(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[E&&t.isHidden?(0,o.tZ)(y.EyeOff,{}):null,(0,o.tZ)(p.Z,{repl:B,currentUser:l,surface:!1}),E?(0,o.tZ)(x.Z,{repl:B,post:t,canModerate:E,source:"postsFeed"}):null]})]}),(0,o.BX)(c.Z,{css:[w.gU.filled,f.l0.borderRadius(8),f.l0.colWithGap(8),f.l0.p(8),f.l0.position.relative],children:[(0,o.tZ)(d.Z,{css:[f.l0.colWithGap(16)],children:(0,o.tZ)(d.Z,{css:[f.l0.rowWithGap(16),f.l0.justify.spaceBetween],children:(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.start,f.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(g.ZP,{iconUrl:B.iconUrl,alt:B.title,size:64}),(0,o.BX)(d.Z,{css:[f.l0.flex.growAndShrink(1),f.l0.colWithGap(4)],children:[(0,o.tZ)(a(),(0,i.Z)((0,r.Z)({passHref:!0},(0,b.j3)(B)),{children:(0,o.tZ)(C,{css:[{color:"inherit"},R],onClick:s,children:(0,o.tZ)(u.x,{variant:"subheadBig",children:B.title})})})),B.description?(0,o.tZ)(u.x,{color:"dimmer",maxLines:1,css:[f.l0.maxWidth(450)],children:B.description}):null]})]})})}),(0,o.BX)(d.Z,{css:[{border:"1px solid "+f.TV.outlineDimmer,overflow:"hidden"},f.l0.borderRadius(8)],children:[(0,o.tZ)(c.Z,{elevated:!0,background:"higher",css:[f.l0.p(8),{borderTopLeftRadius:8,borderTopRightRadius:8}],children:(0,o.tZ)(d.Z,{css:[f.l0.p(8),f.l0.colWithGap(32)],children:(0,o.BX)(d.Z,{css:[f.l0.colWithGap(8)],children:[(0,o.tZ)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center,f.l0.justify.spaceBetween],children:(0,o.tZ)(u.x,{variant:"subheadDefault",css:{flexShrink:1},children:t.title})}),(0,o.tZ)(u.x,{maxLines:2,css:{marginBottom:"0px"},children:I.body})]})})}),(null===(n=t.recentReplComments)||void 0===n?void 0:n.length)?(0,o.tZ)(d.Z,{css:[f.l0.p(16),{borderTop:"0px solid "+f.TV.outlineDimmest}],children:(0,o.tZ)(m.Z,{comments:t.recentReplComments,onCommentClick:P})}):null]}),(0,o.BX)(d.Z,{css:[f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.minHeight(24)],children:[(0,o.tZ)(v.Z,{repl:B}),(0,o.tZ)(d.Z,{css:[f.l0.position.relative,{zIndex:1},f.l0.flex.shrink(1)],children:(0,o.tZ)(c.Z,{elevated:!0,children:(0,o.tZ)(Z.Vs,{tags:B.tags,onTagClick:U})})})]})]})]})}},33179:function(e,n,t){"use strict";t.d(n,{K:function(){return h},Z:function(){return p}});var r=t(35944),i=(t(67294),t(82447)),o=t(94718),l=t(1144),a=t(69346),s=t(81255),u=t(70570),c=t(80380),d=t(70917),f=a.K.a;function p(e){var n=e.user,t=e.postType,d=e.timeCreated,p=e.onUserClick;return(0,r.BX)(a.Z,{css:[s.l0.rowWithGap(8),s.l0.align.center],children:[(0,r.BX)(a.Z,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[(0,r.tZ)(o.Z,{username:n.username,onUserClick:p,children:(0,r.tZ)(i.ZP,{user:n,children:(0,r.tZ)(f,{css:[{color:"inherit"}],onClick:p,children:(0,r.tZ)(u.Z,{username:n.username,src:n.image,small:!0})})})}),(0,r.BX)(l.x,{color:"dimmest",children:["shared a ","post"===t?"Post":"Repl"]})]}),(0,r.tZ)(l.x,{color:"dimmest",variant:"small",children:"\u2022"}),(0,r.tZ)(c.Z,{date:d,textColor:"dimmest",textVariant:"small"})]})}function h(e){var n=e.user,t=e.postType,p=e.timeCreated,h=e.onUserClick;return(0,r.BX)(a.Z,{css:[s.l0.rowWithGap(8),s.l0.align.center,s.l0.flex.shrink(1)],children:[(0,r.BX)(a.Z,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[(0,r.tZ)(o.Z,{username:n.username,onUserClick:h,children:(0,r.tZ)(i.ZP,{user:n,children:(0,r.tZ)(f,{css:[{color:"inherit"}],onClick:h,children:(0,r.tZ)(u.Z,{username:n.username,src:n.image,small:!0})})})}),(0,r.BX)(l.x,{color:"dimmest",css:(0,d.iv)("@media (max-width:500px){display:none;}"),children:["published ","post"===t?"an Update":"a Repl"]})]}),(0,r.tZ)(l.x,{color:"dimmest",variant:"small",css:(0,d.iv)("@media (max-width:400px){display:none;}"),children:"\u2022"}),(0,r.tZ)(c.Z,{date:p,textColor:"dimmest",textVariant:"small",css:(0,d.iv)("@media (max-width:400px){display:none;}")})]})}},4941:function(e,n,t){"use strict";t.d(n,{B:function(){return h},Z:function(){return p}});var r=t(32692),i=t(31230),o=t(21767),l=t(97008),a=t(47174),s=t(48293),u=t(76876),c=t(11417);function d(){var e=(0,r.Z)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    analyticsUrl\n    releasesForkCount\n    publicForkCount\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    relatedRepls(limitPerGroup: 3) {\n      name\n      repls {\n        id\n        publishedAs\n        ...ReplLinkRepl\n        ...TemplateReplCardRepl\n        ...ReplPostReplCardRepl\n      }\n    }\n    lang {\n      id\n      displayName\n    }\n    currentUserPermissions {\n      containerWrite\n      publish\n      changeIconUrl\n    }\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewFooterRepl\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    ...ReplViewReplViewerCurrentUser\n  }\n  ","\n"]);return f=function(){return e},e}var p=(0,i.Ps)(d(),o.Y,l.qb,a.n,s.rv,u.Q,c.A),h=(0,i.Ps)(f(),u.r)},71306:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(35944),i=t(67294),o=t(14251),l=t(32692),a=t(31230),s=t(4941),u=t(37887);function c(){var e=(0,l.Z)(["\n  fragment ReplViewContentLoaderRepl on Repl {\n    id\n    title\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,l.Z)(["\n  query ReplViewContentLoader($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...ReplViewRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplViewCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var f={},p=(0,a.Ps)(c()),h=(0,a.Ps)(d(),s.Z,s.B);var m=t(66252),v=t(60977),Z=t(11163),g=t(25398),b=t(15085);function w(e){var n=e.replId,t=(0,Z.useRouter)();i.useEffect((function(){(0,v.Md)({pageName:"replView",sourcePage:t.pathname})}),[t]);var l=function(e){var n=(0,o.Z)({},f,e);return u.a(h,n)}({variables:{replId:n}}).data,a=(0,m.x)().readFragment({id:n,fragment:p}),s="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl:null,c=(null===l||void 0===l?void 0:l.currentUser)||void 0;return(0,r.tZ)(b.G7,{css:[b.l0.borderRadius(8)],children:s?(0,r.tZ)(g.Z,{repl:s,currentUser:c,withSidebar:!0}):(0,r.tZ)(g.G,{title:(null===a||void 0===a?void 0:a.title)||void 0,withSidebar:!0})})}},11417:function(e,n,t){"use strict";t.d(n,{A:function(){return u}});var r=t(32692),i=t(31230),o=t(21767);function l(){var e=(0,r.Z)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return a=function(){return e},e}var s=(0,i.Ps)(l(),o.Y),u=(0,i.Ps)(a(),s)},41433:function(e,n,t){"use strict";t.d(n,{DC:function(){return x},YQ:function(){return Z}});var r=t(14251),i=t(32692),o=t(31230),l=t(76876),a=t(16092),s=t(11417),u=t(37887);function c(){var e=(0,i.Z)(["\n  fragment ProfilePagePinnedRepl on Repl {\n    id\n    description\n    iconUrl\n    title\n    ...ReplViewReplViewerRepl\n    ...ReplViewFooterRepl\n    templateInfo {\n      iconUrl\n      label\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment UserRoles on User {\n    roles(\n      only: [\n        ADMIN\n        MODERATOR\n        PATRON\n        CONTENT_CREATOR\n        DETECTIVE\n        LANGUAGE_JAMMER\n        FEATURED\n        REPLIT_REP\n        REPLIT_REP_EDU\n      ]\n    ) {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment ProfileHeaderUser on User {\n    id\n    fullName\n    username\n    image\n    isLoggedIn\n    bio\n    location\n    isHacker\n    ...UserRoles\n    languages(limit: 3) {\n      id\n      key\n      displayName\n      tagline\n      icon\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment ProfilePageUser on User {\n    id\n    fullName\n    image\n    pinnedRepls {\n      id\n      ...ProfilePagePinnedRepl\n    }\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n    publicRepls(count: 1, showUnnamed: true) {\n      items {\n        id\n      }\n    }\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    isBlockedByCurrentUser\n    isBlockingCurrentUser\n    redirectToTeamDashboard\n    username\n    ...ProfileHeaderUser\n    ...UserLinkUser\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,i.Z)(["\n  query ProfilePage($username: String!) {\n    currentUser {\n      id\n      username\n      hasRepl\n      isAdmin: hasRole(role: ADMIN)\n      isPrivacyAccount: hasPrivacyRole\n      isModerator: hasRole(role: MODERATOR)\n      ...ReplViewReplViewerCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      ...ProfilePageUser\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}var m={},v=(0,o.Ps)(c(),l.Q,s.A),Z=(0,o.Ps)(d()),g=(0,o.Ps)(f(),Z),b=(0,o.Ps)(p(),v,g,a._),w=(0,o.Ps)(h(),l.r,b);function x(e){var n=(0,r.Z)({},m,e);return u.a(w,n)}},12299:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ki}});var r=t(34727),i=t(67573),o=t(14251),l=t(9941),a=t(70655),s=t(35944),u=t(67294),c=t(12918),d=t(11163),f=t(51282),p=t(71745),h=t(77365),m=t(70338),v=t(52875),Z=t(69779),g=t(32692),b=t(31230),w=t(17674),x=t(22411),y=t(35087),C=t(37887);function R(){var e=(0,g.Z)(["\n  query ProfilePosts(\n    $username: String!\n    $after: String\n    $order: String\n    $count: Int\n  ) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      posts(after: $after, order: $order, count: $count) {\n        items {\n          id\n          ...ReplPostPost\n          ...OldPostPost\n          ...ReplCardPostPost\n        }\n        pageInfo {\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var k={},U=(0,b.Ps)(R(),w.rP,w.U5,x.h,y.mx);var P=t(69346),S=t(81255),B=t(4472),I=t(92850),E=t(65338),D=t(15085),G=function(e){var n,t=e,r=function(e){var n=(0,o.Z)({},k,e);return C.a(U,n)}({variables:t}),i=r.data,l=r.loading,a=r.fetchMore;if(l)return(0,s.tZ)(P.Z,{css:[S.l0.p(8),S.l0.center],children:(0,s.tZ)(h.Z,{})});if(!(null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.posts))return null;var u=i.user.posts,c=i.currentUser,d=i.user.posts.pageInfo.nextCursor;return(0,s.BX)(P.Z,{css:[S.l0.colWithGap(32),S.l0.px(16)],children:[(0,s.BX)(P.Z,{css:[S.l0.colWithGap(32)],children:[0===u.items.length&&(0,s.tZ)(P.Z,{css:[S.l0.center,S.l0.p(32)],children:(0,s.tZ)(D.xv,{variant:"subheadBig",children:"No posts yet"})}),u.items.map((function(e){return e.title?e.replComment?(0,s.tZ)(B.Z,{post:e,currentUser:c||void 0},e.id):(0,s.tZ)(E.Z,{post:e},e.id):(0,s.tZ)(I.Z,{post:e,currentUser:c||void 0},e.id)}))]}),(0,s.BX)(P.Z,{css:[S.l0.center],children:[l?(0,s.tZ)(D.zx,{disabled:!0,text:"Loading..."}):null,d&&!l?(0,s.tZ)(D.zx,{onClick:function(){a({variables:(0,v.Z)((0,o.Z)({},t),{after:u.pageInfo.nextCursor}),updateQuery:function(e,n){var t,r,i,l;if(!(null===(t=n.fetchMoreResult)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.posts))return e;var a=n.fetchMoreResult,s=e&&e.user&&e.user.posts?e.user.posts.items:[],u=(0,o.Z)({},a);return(null===(i=u.user)||void 0===i?void 0:i.posts)&&(null===(l=a.user)||void 0===l?void 0:l.posts)&&(u.user.posts.items=(0,Z.Z)(s).concat((0,Z.Z)(a.user.posts.items))),u}})},text:"Load more"}):null]})]})},_=t(1879),M=t(85485),X=t(93160),T=t(90317),W=t(93053),A=t(50319);function O(){var e=(0,g.Z)(["\n  query ProfilePublicRepls(\n    $username: String!\n    $after: String\n    $search: String\n  ) {\n    user: userByUsername(username: $username) {\n      id\n      profileRepls: profileRepls(after: $after, search: $search) {\n        items {\n          id\n          ...ProfilePublicReplsRepl\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function L(){var e=(0,g.Z)(["\n  mutation ProfilePublicReplsPin($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function N(){var e=(0,g.Z)(["\n  mutation ProfilePublicReplsUnPin($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return N=function(){return e},e}var z={},j=(0,b.Ps)(O(),W.A);var V=(0,b.Ps)(L(),W.A);var H=(0,b.Ps)(N(),W.A);function $(e){var n=(0,o.Z)({},z,e);return A.D(H,n)}var F=t(1144),Y=t(92002),q=t(83074),K=t(93058),J=t(65400),Q=t(24228),ee=t(88046),ne=t(33473),te=t(59292),re=t(61756),ie=t(88436),oe=t(57704),le=function(e){var n=e.onCancel,t=e.repl,r=e.onDelete,i=(0,l.Z)((0,ie.k)({variables:{id:t.id},onCompleted:function(){return r()}}),2),o=i[0],a=i[1];return(0,s.BX)(P.Z,{css:[S.l0.colWithGap(24)],children:[(0,s.BX)(F.h,{variant:"headerDefault",level:1,children:["Delete ",t.title]}),(0,s.tZ)(F.x,{multiline:!0,children:"Are you sure you want to delete this Repl? This cannot be undone."}),(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(16),{alignSelf:"flex-end"}],children:[(0,s.tZ)(re.ZP,{onClick:n,text:"Cancel"}),(0,s.tZ)(re.ZP,{onClick:function(){return o()},disabled:a.loading,text:"Yes, delete this Repl",colorway:"negative",iconLeft:(0,s.tZ)(oe.Z,{})})]})]})},ae=t(37552),se=t(90160),ue=t(28529),ce=t(64080),de=t(41034),fe=t(18757),pe=[{id:"copy_link",icon:(0,s.tZ)(de.Z,{}),text:"Copy Link",color:"default"},{id:"cover_page",icon:(0,s.tZ)(fe.Z,{}),text:"Cover page",color:"default"}],he=[{id:"edit",icon:(0,s.tZ)(ce.Z,{}),text:"Edit",color:"default"},{id:"unpin",icon:(0,s.tZ)(se.Z,{}),text:"Unpin",color:"default"},{id:"delete",icon:(0,s.tZ)(oe.Z,{}),text:"Delete",color:"var(--accent-negative-stronger)"}],me=function(e){var n=e.onSelect,t=e.showExtendedOptions,r=e.isOwner,i=(0,l.Z)(u.useState([]),2),o=i[0],a=i[1];return u.useEffect((function(){a((0,Z.Z)(t?pe:[]).concat((0,Z.Z)(r?he:[])))}),[t,r]),r||t?(0,s.tZ)(ae.ZE,{cssProps:[{backgroundColor:"transparent"}],"aria-label":"more options",icon:(0,s.tZ)(ue.Z,{}),onAction:n,children:o.map((function(e){return(0,s.tZ)(ae.ck,{"aria-label":e.text,children:(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.rowWithGap(8),{width:200,color:e.color}],children:[u.cloneElement(e.icon),(0,s.tZ)(F.x,{children:e.text})]})},e.id)}))}):null},ve=t(66060),Ze=t(79500),ge=function(e){var n=e.repl,t=(0,l.Z)(u.useState(!1),2),r=t[0],i=t[1];return(0,s.tZ)(ve.ZP,{isOpen:r,placement:"bottom",tooltip:"Copied!",onOpenChange:function(){r&&setTimeout((function(){i(!1)}),2e3)},children:(0,s.tZ)(re.ZP,{text:"Copy Link",iconLeft:(0,s.tZ)(de.Z,{}),onClick:function(){(null===n||void 0===n?void 0:n.url)&&((0,Ze.Z)("".concat(window.location.origin).concat(n.url)),i(!0))}})})},be=t(5886),we=function(e){var n=e.spotlightLinkProps;return(0,s.tZ)(be.Z,(0,o.Z)({text:"Cover page",iconLeft:(0,s.tZ)(fe.Z,{})},n))},xe=t(41664),ye=t.n(xe),Ce=t(90473),Re=t(75026),ke=t(92350),Ue=t(46702),Pe=t(54917),Se=function(e){var n=e.spotlightLinkProps,t=e.repl,r=e.loading,i=e.comments,o=(0,d.useRouter)(),a=(0,l.Z)(u.useState(!1),2),c=a[0],f=a[1];return t?(0,s.BX)(P.Z,{css:[S.l0.pt(16),S.l0.pb(8),S.l0.mb(8),S.l0.flex.grow(0),S.l0.flex.shrink(1),S.l0.position.relative,S.l0.overflow("hidden")],children:[(0,s.BX)(P.Z,{css:[S.l0.center,S.l0.position.absolute,S.l0.height("100%"),S.l0.width("100%"),S.l0.zIndex(2),S.l0.top(0),S.l0.cursor.pointer],onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return o.push(n.href,n.as)},children:[c?(0,s.tZ)(P.Z,{css:[{backgroundColor:S.TV.backgroundDefault,opacity:.8,position:"absolute",top:0,width:"100%",height:"100%"}]}):null,c?(0,s.BX)(P.Z,{css:[S.l0.center,S.l0.rowWithGap(8),S.l0.zIndex(3)],children:[(0,s.tZ)(Ue.Z,{}),(0,s.tZ)(F.x,{children:"View all comments"})]}):null]}),r?(0,s.tZ)(P.Z,{css:[S.l0.justify.center,S.l0.align.center],children:(0,s.tZ)(h.Z,{size:32})}):null,t?(0,s.tZ)(P.Z,{css:[S.l0.flex.row],children:(0,s.BX)(F.x,{variant:"small",color:"dimmer",children:["Recent comments (",t.commentCount,")"]})}):null,i.filter((function(e){return!e.isHidden})).map((function(e){return(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.pt(8)],children:[e.user?(0,s.tZ)(P.Z,{children:(0,s.tZ)(Pe.Yt,{user:e.user})}):null,(0,s.BX)(P.Z,{css:[S.l0.pl(8),S.l0.flex.shrink(2)],children:[e.user?(0,s.tZ)(Pe.wb,{user:e.user,timeCreated:e.timeCreated}):null,(0,s.tZ)(F.x,{multiline:!0,css:[S.l0.flex.shrink(2)],children:(0,s.tZ)(ke.ZP,{children:e.body})})]})]},e.id)}))]}):null},Be=t(58057),Ie=function(e){var n,t,r,i,a,c,d,f=e.repl,p=(0,l.Z)(u.useState(!1),2),h=p[0],m=p[1],Z=(0,Ce.ex)({variables:{replId:f.id,count:6}}),g=Z.data,b=Z.loading,w=Z.refetch,x=!(null===(n=f.source)||void 0===n||null===(t=n.deployment)||void 0===t||null===(r=t.repl)||void 0===r?void 0:r.owner),y=(null===(i=f.source)||void 0===i||null===(a=i.deployment)||void 0===a?void 0:a.repl)&&(0,ee.aq)(f.source.deployment.repl),C=(0,ee.j3)(f),R="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)?g.repl:null,k=null!==(d=null===R||void 0===R||null===(c=R.comments)||void 0===c?void 0:c.items)&&void 0!==d?d:[];return(0,s.BX)(P.Z,{css:[S.l0.pl(16),{flex:"0 1 300px"}],children:[x||!y?(0,s.BX)(F.x,{children:["Made with ",f.lang.displayName]}):null,!x&&y?(0,s.BX)(F.x,{children:["Made with"," ",(0,s.tZ)(ye(),(0,v.Z)((0,o.Z)({},y),{children:(0,s.tZ)("a",{children:f.templateInfo.label})}))]}):null,f.description?(0,s.tZ)(P.Z,{css:[S.l0.overflowY("auto"),S.l0.pt(8),S.l0.flex.growAndShrink(1)],children:(0,s.tZ)(ke.ZP,{css:{backgroundColor:"transparent"},children:f.description})}):null,(0,s.tZ)(Se,{loading:b,repl:R,comments:k,spotlightLinkProps:C}),(0,s.BX)(P.Z,{css:[S.l0.zIndex(2)],children:[0!==k.length&&(0,s.tZ)(P.Z,{css:[S.l0.width("100%"),S.l0.position.relative,S.l0.top(-10),{boxShadow:"0px -8px 12px 8px var(--background-default)",border:"1px solid var(--background-default)"}]}),h?(0,s.tZ)(Be.H,{autoFocus:!0,onCancel:function(){return m(!1)},onComment:function(){w()},replId:f.id,placeholder:f?"Say something about ".concat(f.title):""}):(0,s.tZ)(re.ZP,{text:"Leave a comment",iconLeft:(0,s.tZ)(Re.Z,{}),onClick:function(){return m(!0)}})]})]})},Ee=t(80658),De=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,a=e.repl,c=e.width,f=(0,d.useRouter)(),p=(0,l.Z)(u.useState(!1),2),h=p[0],m=p[1],Z=(0,l.Z)(u.useState(!1),2),g=Z[0],b=Z[1],w=(0,l.Z)(u.useState(!1),2),x=w[0],y=w[1],C=(0,l.Z)((0,te.Z)({onError:function(){U("Error forking repl")}}),2),R=C[0],k=C[1].loading,U=(0,K.Z)().showError,B=(0,l.Z)($({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?r():U("Error removing repl from showcase")}}),1)[0],I=(0,ee.aq)(a),E=(0,ee.j3)(a),D=u.useCallback((function(){(null===a||void 0===a?void 0:a.url)&&(0,Ze.Z)("".concat(window.location.origin).concat(a.url))}),[a.url]),G=u.useCallback((function(e){switch(e){case"edit":f.push(I.href,I.as);break;case"delete":m(!0);break;case"unpin":B({variables:{replId:a.id}});break;case"copy_link":D();break;case"cover_page":f.push(E.href,E.as)}}),[D,I,E,f,a,B]),W=(0,l.Z)(u.useState(0),2),A=W[0],O=W[1],L=(0,l.Z)(u.useState(!0),2),N=L[0],z=L[1];u.useEffect((function(){c<900?(O(c/1.7),z(!1)):(O(c/2),z(!0))}),[c]);var j,V=(null===n||void 0===n?void 0:n.id)===t.id,H=a.publishedAs===T.O2.Template?{text:k?"Forking...":"Use Template",icon:(0,s.tZ)(Y.Z,{}),count:a.releasesForkCount}:{text:k?"Forking...":"Fork Repl",icon:(0,s.tZ)(q.Z,{}),count:a.publicForkCount},re=(0,s.tZ)(ne.Z,(0,v.Z)((0,o.Z)({},H),{onClick:function(){k||y(!0)},icon:(0,s.tZ)(q.Z,{}),colorway:"primary",onCountClick:function(){return b(!0)}}));return(0,s.BX)(X.Z,{background:"default",css:[S.l0.colWithGap(16),S.l0.p(16),S.l0.width("100%"),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.borderRadius(16)])],children:[(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.flex.wrap],children:[(0,s.tZ)(F.h,{variant:"headerDefault",level:2,children:a.title}),(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8),S.l0.pt(8)],children:[V||!N?(0,s.tZ)(me,{onSelect:G,showExtendedOptions:!N,isOwner:V}):null,N?(0,s.tZ)(ge,{repl:a}):null,N?(0,s.tZ)(we,{spotlightLinkProps:E}):null,N?re:null]})]}),(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.height(A)],children:[(0,s.tZ)(P.Z,{css:[S.l0.flex.grow(2),S.l0.display.grid],children:(0,s.tZ)(Q.Z,{currentUser:n||void 0,repl:a,hideTotalTips:!0})}),N?(0,s.tZ)(Ie,{repl:a}):null]}),!N&&(0,s.tZ)(P.Z,{css:[S.l0.align.end],children:re}),(0,s.tZ)(_.Z,{isOpen:h,onRequestClose:function(){return m(!1)},children:(0,s.tZ)(le,{repl:a,onCancel:function(){return m(!1)},onDelete:r})}),(0,s.tZ)(_.Z,{isOpen:g,onRequestClose:function(){return b(!1)},children:(0,s.tZ)(J.Z,{replId:a.id})}),(0,s.tZ)(_.Z,{isOpen:x,onRequestClose:function(){return y(!1)},children:(0,s.tZ)(Ee.Z,{onFork:function(e,n,t,r){var i,o;R({originId:a.id,replReleaseId:(null===(i=a.deployment)||void 0===i||null===(o=i.activeRelease)||void 0===o?void 0:o.id)||void 0,trackingData:{forkSource:"profileShowcase",isApp:a.publishedAs===T.O2.App,isTemplate:a.publishedAs===T.O2.Template},teamId:e,title:n,description:t,isPrivate:r,forkToPersonal:!e})},initialTitle:a.title,initialDescription:null!==(j=a.description)&&void 0!==j?j:"",initialPrivacy:!1,hideModal:function(){return y(!1)},teamContext:null===n||void 0===n?void 0:n.username})})]})},Ge=t(35450),_e=t(49833),Me=t(71471),Xe=function(e){var n=e.onSelect,t=e.showcasedRepls,r=e.showComboBox,i=void 0===r||r,a=(0,K.Z)(),u=a.showConfirm,c=a.showError,d=(0,l.Z)(function(e){var n=(0,o.Z)({},z,e);return A.D(V,n)}({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename?(u("Repl added to showcase"),n()):c("Error adding repl to showcase")},onError:function(e){c(e.message)}}),2),f=d[0],p=d[1],h=(0,l.Z)($({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?(u("Repl removed from showcase"),n()):c("Error removing repl from showcase")},onError:function(e){c(e.message)}}),2),m=h[0],v=h[1].loading||p.loading;return(0,s.BX)(P.Z,{css:[S.l0.colWithGap(16)],children:[(0,s.tZ)(F.h,{level:2,variant:"headerDefault",children:"Pick a Repl to showcase:"}),(0,s.tZ)(_e.Z,{disabled:v,filter:function(e){return!t.find((function(n){return n.id===e.id}))},manualSelect:!0,onSelect:function(e){t.find((function(n){return n.id===e.id}))||f({variables:{replId:e.id}})},showComboBox:i}),t.length>0?(0,s.BX)(P.Z,{css:[S.l0.pt(8),S.l0.colWithGap(8)],children:[(0,s.tZ)(F.h,{level:3,variant:"subheadDefault",children:"Current Repls showcased:"}),t.map((function(e){return(0,s.BX)(X.Z,{background:"higher",css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.p(8),S.l0.borderRadius(8)],children:[(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8)],children:[(0,s.tZ)(Me.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(F.x,{css:[S.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,s.tZ)(re.ZP,{disabled:v,outlined:!0,onClick:function(){return m({variables:{replId:e.id}})},text:"Remove"})]},e.id)}))]}):null]})},Te=t(94184),We=t.n(Te),Ae=t(96189),Oe=t(82908),Le=t(82730),Ne=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,a=t.pinnedRepls||[],c=(0,l.Z)(u.useState(!1),2),d=c[0],f=c[1],p=(0,l.Z)(u.useState(0),2),h=p[0],m=p[1],Z=(0,l.Z)(u.useState(0),2),g=Z[0],b=Z[1],w=(0,l.Z)(u.useState(!1),2),x=w[0],y=w[1],C=(0,l.Z)((0,Le.useKeenSlider)({controls:!x,initial:0,slideChanged:function(e){var n=e.details().relativeSlide;m(n)}}),2),R=C[0],k=C[1],U=(0,Oe.Z)(),B=(0,Ae.Z)((function(e){k&&k.resize(),e.width&&(b(e.width),e.width<800?y(!1):y(!0))}));u.useEffect((function(){k&&(U(),k.refresh())}),[t.pinnedRepls,k,U]);var I=(null===n||void 0===n?void 0:n.id)===t.id;return(0,s.BX)(P.Z,{css:[S.l0.flex.grow(2),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.px(16)])],children:[(0,s.BX)(P.Z,{css:[S.l0.width("100%"),S.l0.position.relative,S.l0.colWithGap(16)],innerRef:B,children:[x?(0,s.tZ)(Ge.t,{dir:"left",slider:k,currentSlide:h}):null,(0,s.tZ)("ul",{ref:R,className:"keen-slider",css:[{userSelect:"auto",touchAction:"auto",listStyleType:"none"}],children:a.map((function(n){return(0,s.tZ)("li",{className:We()("keen-slider__slide"),css:{flex:"1 0 auto"},children:(0,s.tZ)(De,(0,v.Z)((0,o.Z)({},e),{repl:n,width:g}))},n.id)}))}),x?(0,s.tZ)(Ge.t,{dir:"right",slider:k,currentSlide:h}):null,(0,s.tZ)(Ge.a,{isOwner:I,currentSlide:h,slider:k,openPickModal:function(){return f(!0)}})]}),(0,s.tZ)(_.Z,{isOpen:d,onRequestClose:function(){return f(!1)},children:(0,s.tZ)(Xe,{onSelect:r,showcasedRepls:a,showComboBox:!1})})]})};function ze(){var e=(0,g.Z)(["\n  query TeamRedirect($username: String!) {\n    team: teamByUsername(username: $username) {\n      ... on Team {\n        id\n        isMember\n      }\n    }\n  }\n"]);return ze=function(){return e},e}var je={},Ve=(0,b.Ps)(ze());function He(e){var n=e.username,t=(0,d.useRouter)(),r=function(e){var n=(0,o.Z)({},je,e);return C.a(Ve,n)}({variables:{username:n}}),i=r.data,l=r.loading;return u.useEffect((function(){i&&!l&&"Team"===i.team.__typename&&i.team.isMember&&t.replace({pathname:"/teamProfile",query:{teamname:n}},"/team/".concat(n))}),[t,n,i,l]),null}var $e=t(44778),Fe=t(28898),Ye=t(87045);function qe(){var e=(0,g.Z)(["\n  mutation ReportUser($reportedUserId: Int, $reason: String!) {\n    createBoardReport(reportedUserId: $reportedUserId, reason: $reason) {\n      __typename\n      id\n      reportedUser {\n        id\n      }\n    }\n  }\n"]);return qe=function(){return e},e}function Ke(){var e=(0,g.Z)(["\n  mutation SetBlocking($input: SetBlockingInput!) {\n    setBlocking(input: $input) {\n      ... on User {\n        __typename\n        id\n        username\n        followers {\n          items {\n            id\n            username\n          }\n        }\n        followerCount\n        follows {\n          items {\n            id\n            username\n          }\n        }\n        followCount\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return Ke=function(){return e},e}var Je={},Qe=(0,b.Ps)(qe());var en=(0,b.Ps)(Ke());var nn=t(59369),tn=t(53429),rn=t(67177),on=t(18622),ln=t(88808),an=t(47024),sn=t(30332),un=t(45273),cn=t(4972),dn=t(82447),fn=t(16092);function pn(){var e=(0,g.Z)(["\n  fragment FollowModalUser on User {\n    ...UserLinkUser\n    id\n    username\n    fullName\n    image\n    isFollowedByCurrentUser\n    followerCount\n  }\n  ","\n"]);return pn=function(){return e},e}function hn(){var e=(0,g.Z)(["\n  query FollowModalFollowers($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      followers(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return hn=function(){return e},e}function mn(){var e=(0,g.Z)(["\n  query FollowModalFollows($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      follows(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return mn=function(){return e},e}var vn={},Zn=(0,b.Ps)(pn(),fn._),gn=(0,b.Ps)(hn(),Zn);var bn=(0,b.Ps)(mn(),Zn);var wn=t(44747),xn=function(e){var n=e.active,t=e.children;return(0,s.tZ)(P.Z,{children:(0,s.tZ)(F.x,{variant:"subheadBig",css:[S.l0.cursor.pointer,n?S.l0.color.foregroundDefault:S.l0.color.foregroundDimmest,{":hover":{color:S.TV.foregroundDefault}}],children:t})})},yn=function(e){var n=e.active,t=e.children,r=e.href,i=(0,wn.Z)(e,["active","children","href"]);return(0,s.tZ)(ye(),(0,v.Z)((0,o.Z)({href:r},i),{passHref:!0,scroll:!1,children:(0,s.tZ)("a",{css:{textDecoration:"none"},children:(0,s.tZ)(xn,{active:n,children:t})})}))},Cn=t(44044),Rn=t(33319),kn=function(e){var n=e.user,t=e.currentUser,r=n.id===(null===t||void 0===t?void 0:t.id);return(0,s.BX)(D.G7,{tag:"li",css:[D.l0.p(8),D.l0.rowWithGap(8),D.l0.align.center,Cn.gU.nofill],children:[(0,s.tZ)(ye(),(0,v.Z)((0,o.Z)({},(0,dn.Ru)(n)),{passHref:!0,children:(0,s.BX)(D.G7,{tag:"a",css:[{color:"unset"},D.l0.rowWithGap(8),D.l0.flex.growAndShrink(1),D.l0.align.center,D.l0.focusRing],children:[(0,s.tZ)(un.Z,{size:40,username:n.username,src:n.image}),(0,s.BX)(D.G7,{css:[D.l0.flex.growAndShrink(1)],children:[(0,s.tZ)(D.xv,{children:n.fullName}),(0,s.BX)(D.xv,{variant:"small",color:"dimmer",children:["@",n.username]})]})]})})),!r&&(0,s.tZ)(an.Z,{user:n})]})},Un=function(){return(0,s.tZ)(D.G7,{css:[D.l0.height(40),D.l0.flex.row,D.l0.align.center,D.l0.justify.center],children:(0,s.tZ)(h.Z,{size:24})})},Pn=function(e){var n=e.text;return(0,s.BX)(D.G7,{css:[D.l0.height(208),D.l0.align.center,D.l0.justify.spaceEvenly,D.l0.textAlign.center],children:[(0,s.tZ)(D.xv,{variant:"subheadDefault",multiline:!0,children:n}),(0,s.tZ)(D.ZP,{href:"/community",text:"Go to Community",colorway:"primary",iconLeft:(0,s.tZ)(Rn.Z,{})})]})},Sn=function(e,n,t){var i,o=(null===e||void 0===e||null===(i=e.pageInfo)||void 0===i?void 0:i.hasNextPage)||!1,l=u.useCallback((0,r.Z)((function(){var r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return(null===e||void 0===e?void 0:e.pageInfo.hasNextPage)?(r=null===e||void 0===e?void 0:e.pageInfo.nextCursor,[4,t({variables:{username:n,after:r,count:20}})]):[2];case 1:return i.sent(),[2]}}))})),[e,t,n]);return{hasMore:o,ref:(0,cn.Z)({onLoadMore:l}).targetRef,loadMore:l}},Bn=function(e){var n,t,r,i=e.username,l=function(e){var n=(0,o.Z)({},vn,e);return C.a(gn,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,u=l.loading,c=l.error,d=l.fetchMore,f=Sn(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.followers,i,d),p=f.hasMore,h=f.ref,m=f.loadMore;if(c)return(0,s.BX)(D.G7,{children:[(0,s.tZ)(D.xv,{children:"An error has occurred."}),(0,s.tZ)(D.xv,{children:c.message})]});if(!u&&0===(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.followers.items.length)){var v,Z,g=(null===a||void 0===a||null===(v=a.currentUser)||void 0===v?void 0:v.id)===(null===a||void 0===a||null===(Z=a.user)||void 0===Z?void 0:Z.id)?"No followers yet. Get others to follow you by engaging with them in Community!":"Nothing to see here. Check out what's new in Community!";return(0,s.tZ)(Pn,{text:g})}return(0,s.BX)(D.G7,{tag:"ul","aria-busy":u,css:D.l0.colWithGap(16),children:[a?null===(r=a.user)||void 0===r?void 0:r.followers.items.map((function(e){return(0,s.tZ)(kn,{user:e,currentUser:a.currentUser},e.id)})):null,u?(0,s.tZ)(Un,{}):null,p&&!u?(0,s.tZ)(D.zx,{text:"Load more",ref:h,onClick:m}):null]})},In=function(e){var n,t,r,i=e.username,l=function(e){var n=(0,o.Z)({},vn,e);return C.a(bn,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,u=l.loading,c=l.error,d=l.fetchMore,f=Sn(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.follows,i,d),p=f.hasMore,h=f.ref,m=f.loadMore;if(c)return(0,s.BX)(D.G7,{children:[(0,s.tZ)(D.xv,{children:"An error has occurred."}),(0,s.tZ)(D.xv,{children:c.message})]});if(!u&&0===(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.follows.items.length)){var v,Z,g=(null===a||void 0===a||null===(v=a.currentUser)||void 0===v?void 0:v.id)===(null===a||void 0===a||null===(Z=a.user)||void 0===Z?void 0:Z.id)?"You aren\u2019t following anyone yet. Check out the cool creators in Community!":"".concat(i," hasn\u2019t followed anyone yet.");return(0,s.tZ)(Pn,{text:g})}return(0,s.BX)(D.G7,{tag:"ul","aria-busy":u,children:[a?null===(r=a.user)||void 0===r?void 0:r.follows.items.map((function(e){return(0,s.tZ)(kn,{user:e,currentUser:a.currentUser},e.id)})):null,u?(0,s.tZ)(Un,{}):null,p&&!u?(0,s.tZ)(D.zx,{text:"Load more",ref:h,onClick:m}):null]})},En=function(e){var n=e.username,t=e.initialTab,r=void 0===t?"following":t;return(0,s.tZ)(sn.mQ,{defaultIndex:"followers"===r?0:1,css:D.l0.p(16),children:function(e){var t=e.selectedIndex;return(0,s.BX)(s.HY,{children:[(0,s.BX)(sn.td,{css:[D.l0.rowWithGap(24)],children:[(0,s.tZ)(sn.OK,{css:D.l0.reset.button,children:(0,s.tZ)(xn,{active:0===t,children:"Followers"})}),(0,s.tZ)(sn.OK,{css:D.l0.reset.button,children:(0,s.tZ)(xn,{active:1===t,children:"Following"})})]}),(0,s.BX)(sn.nP,{css:[D.l0.mt(16)],children:[(0,s.tZ)(sn.x4,{children:(0,s.tZ)(Bn,{username:n})}),(0,s.tZ)(sn.x4,{children:(0,s.tZ)(In,{username:n})})]})]})}})};function Dn(){var e=(0,g.Z)(["\n  fragment EditProfileModalCurrentUserInfo on CurrentUser {\n    id\n    firstName\n    lastName\n    bio\n    location\n  }\n"]);return Dn=function(){return e},e}function Gn(){var e=(0,g.Z)(["\n  fragment EditProfileCurrentUserSocials on CurrentUser {\n    id\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n  }\n"]);return Gn=function(){return e},e}function _n(){var e=(0,g.Z)(["\n  query EditProfileModal {\n    currentUser {\n      id\n      ...EditProfileModalCurrentUserInfo\n      ...EditProfileCurrentUserSocials\n    }\n  }\n  ","\n  ","\n"]);return _n=function(){return e},e}function Mn(){var e=(0,g.Z)(["\n  mutation EditProfileModalCurrentUserUpdateProfileImage($imageId: Int!) {\n    updateCurrentUser(input: { profileImageId: $imageId }) {\n      id\n      image\n    }\n  }\n"]);return Mn=function(){return e},e}function Xn(){var e=(0,g.Z)(["\n  mutation EditProfileModalCurrentUserUpdate(\n    $userInfoInput: UpdateCurrentUserInput!\n    $socialInput: SetUserSocialsInput!\n  ) {\n    updateCurrentUser(input: $userInfoInput) {\n      id\n      ...EditProfileModalCurrentUserInfo\n    }\n    setUserSocials(input: $socialInput) {\n      ... on CurrentUser {\n        id\n        ...EditProfileCurrentUserSocials\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return Xn=function(){return e},e}var Tn={},Wn=(0,b.Ps)(Dn()),An=(0,b.Ps)(Gn()),On=(0,b.Ps)(_n(),Wn,An);var Ln=(0,b.Ps)(Mn());var Nn=(0,b.Ps)(Xn(),Wn,An);var zn,jn,Vn=t(37424),Hn=t(62441),$n=t(69426),Fn=t(30992),Yn=t(61469),qn=t(37229),Kn=t(88075),Jn=t(60977),Qn=t(61193),et=function(e){var n=e.image,t=e.hasPrivacyRole,u=(0,K.Z)(),c=u.showError,d=u.showConfirm,f=(0,l.Z)(function(e){var n=(0,o.Z)({},Tn,e);return A.D(Ln,n)}({onCompleted:function(){return d("Updated profile image")},onError:function(e){return c(e.message)}}),1)[0];return(0,s.tZ)(D.G7,{css:[(0,i.Z)({width:80},(0,M.et)("tabletMax"),{width:160})],children:(0,s.tZ)(Hn.Z,{currentUser:{image:n,hasPrivacyRole:t},onChange:function(){var e=(0,r.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return n=e.imageId,[4,f({variables:{imageId:n}})];case 1:return t.sent(),(0,Jn.j)(Jn.U3.PROFILE_EDITED,{surface:"profile_image"}),[2]}}))}));return function(n){return e.apply(this,arguments)}}()})})},nt=function(e){var n=e.label,t=e.multiline,r=void 0!==t&&t,i=(0,wn.Z)(e,["label","multiline"]),l=(0,Vn.H)()(n);return r?(0,s.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,s.tZ)("label",{htmlFor:l,children:n}),(0,s.tZ)(D.B,(0,v.Z)((0,o.Z)({id:l},i),{css:[D.l0.minHeight(64),D.l0.maxHeight(96),{resize:"vertical"}]}))]}):(0,s.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,s.tZ)("label",{htmlFor:l,children:n}),(0,s.tZ)(D.II,(0,o.Z)({id:l},i))]})},tt=function(e,n){var t,r="",i=!0;switch(n){case T.bk.Twitter:r=qn.N$;break;case T.bk.Linkedin:r=qn.Hk;break;case T.bk.Github:r=qn.Kd;break;case T.bk.Youtube:break;case T.bk.Discord:case T.bk.Website:i=!1}var o=null===(t=e.find((function(e){return e.type.valueOf()===n.valueOf()})))||void 0===t?void 0:t.url;return r&&(o=null===o||void 0===o?void 0:o.replace(r,"")),i&&(o=null===o||void 0===o?void 0:o.replace(qn.F5,"")),o},rt=function(e){var n,t,i,c=e.onUpdate,d=e.onRequestClose,f=(0,K.Z)().showConfirm,p=(0,Qn.c)("flag-show-location-field-in-the-user-profile"),h=p.enabled,m=p.loading,v=(0,Fn.Y)("",(function(){return null})),Z=(0,Fn.Y)("",(function(){return null})),g=(0,Fn.Y)("",(function(e){return(null===e||void 0===e?void 0:e.length)>32?{message:"Maximum length 32 characters"}:null})),b=(0,Fn.Y)("",(function(e){return(null===e||void 0===e?void 0:e.length)>140?{message:"Maximum length 140 characters"}:null})),w=(0,u.useRef)(),x=(0,u.useRef)(),y=(0,u.useRef)(),R=(0,u.useRef)(),k=(0,u.useRef)(),U=(0,u.useRef)(),P=(0,u.useRef)(),S=(0,u.useRef)(),B=(0,Fn.Y)(void 0,(function(e){if(e&&!qn.Vt.test(e.replace(qn.N$,"")))return{message:'Profile must be a valid Twitter username or URL ("username" or "https://twitter.com/username")'}})),I=(0,Fn.Y)(void 0,(function(e){if(e&&!qn.ig.test(e.replace(qn.Hk,"")))return{message:'Profile must be a valid Linkedin username or URL ("username" or "https://linkedin.com/in/username")'}})),E=(0,Fn.Y)(void 0,(function(e){if(e&&!qn.lF.test(e.replace(qn.Kd,"")))return{message:'Profile must be a valid GitHub username or URL ("username" or "https://github.com/username")'}})),G=(0,Fn.Y)(void 0,(function(e){if(e&&!qn.Vl.test(e))return{message:"Profile URL must match https://www.youtube.com/c/id or https://www.youtube.com/channel/id"}})),_=(0,Fn.Y)(void 0,(function(e){if(e&&!qn.Ob.test(e))return{message:"Discord username must match username#number"}})),M=(0,Fn.Y)(void 0,(function(){return null})),X=function(e){var n=(0,o.Z)({},Tn,e);return C.a(On,n)}(),W=X.data,O=X.error,L=X.loading,N=(0,l.Z)(function(e){var n=(0,o.Z)({},Tn,e);return A.D(Nn,n)}({onCompleted:function(e){var n;"CurrentUser"===e.setUserSocials.__typename&&"CurrentUser"===(null===(n=e.updateCurrentUser)||void 0===n?void 0:n.__typename)&&(f("Updated profile"),c(),d())}}),2),z=N[0],j=N[1];(0,u.useEffect)((function(){var e;"CurrentUser"===(null===W||void 0===W||null===(e=W.currentUser)||void 0===e?void 0:e.__typename)&&(w.current=W.currentUser.bio,x.current=W.currentUser.location,y.current=tt(W.currentUser.socials,T.bk.Twitter),k.current=tt(W.currentUser.socials,T.bk.Github),R.current=tt(W.currentUser.socials,T.bk.Linkedin),U.current=tt(W.currentUser.socials,T.bk.Youtube),P.current=tt(W.currentUser.socials,T.bk.Discord),S.current=tt(W.currentUser.socials,T.bk.Website))}),[null===W||void 0===W||null===(n=W.currentUser)||void 0===n?void 0:n.__typename]),u.useEffect((function(){var e;"CurrentUser"===(null===W||void 0===W||null===(e=W.currentUser)||void 0===e?void 0:e.__typename)&&(v.setValue(W.currentUser.firstName||""),Z.setValue(W.currentUser.lastName||""),b.setValue(W.currentUser.bio||""),g.setValue(W.currentUser.location||""),B.setValue(tt(W.currentUser.socials,T.bk.Twitter)),E.setValue(tt(W.currentUser.socials,T.bk.Github)),I.setValue(tt(W.currentUser.socials,T.bk.Linkedin)),G.setValue(tt(W.currentUser.socials,T.bk.Youtube)),_.setValue(tt(W.currentUser.socials,T.bk.Discord)),M.setValue(tt(W.currentUser.socials,T.bk.Website)))}),[null===W||void 0===W?void 0:W.currentUser]);var V=u.useCallback((0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,z({variables:{userInfoInput:{firstName:v.value,lastName:Z.value,bio:b.value,location:g.value},socialInput:{socials:[{type:T.bk.Twitter,url:B.value||void 0},{type:T.bk.Github,url:E.value||void 0},{type:T.bk.Linkedin,url:I.value||void 0},{type:T.bk.Youtube,url:G.value||void 0},{type:T.bk.Discord,url:_.value||void 0},{type:T.bk.Website,url:M.value||void 0}]}}})];case 1:return e.sent(),w.current!==b.value&&((0,Jn.j)(Jn.U3.PROFILE_EDITED,{surface:"bio"}),w.current=b.value),x.current!==g.value&&((0,Jn.j)(Jn.U3.PROFILE_EDITED,{surface:"location"}),x.current=g.value),y.current!==B.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"twitter",surface:"social_link"}),R.current!==I.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"linkedin",surface:"social_link"}),k.current!==E.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"github",surface:"social_link"}),U.current!==G.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"youtube",surface:"social_link"}),P.current!==_.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"discord",surface:"social_link"}),S.current!==M.value&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{social_link:"website",surface:"social_link"}),[2]}}))})),[v.value,Z.value,b.value,g.value,M.value,_.value,G.value,I.value,B.value,E.value,z]),H=W&&"CurrentUser"===(null===(t=W.currentUser)||void 0===t?void 0:t.__typename)&&W.currentUser;return H&&H.hasPrivacyRole?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.tZ)(D.xv,{children:"You can\u2019t edit your profile settings since you are an education user."})}):(0,s.tZ)(D.G7,{children:L||m?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.tZ)($n.Z,{})}):O?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.BX)(D.xv,{children:["Something went wrong. Please"," ",(0,s.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"})]})}):H?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),V()},children:(0,s.BX)(D.G7,{css:[D.l0.colWithGap(24)],children:[(0,s.tZ)(D.h4,{level:1,variant:"headerDefault",children:"Edit Profile"}),(0,s.tZ)(nt,{label:"First name",value:v.value,onChange:function(e){return v.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"Last name",value:Z.value,onChange:function(e){return Z.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"Bio",value:b.value,multiline:!0,maxLength:140,onChange:function(e){return b.setValue(e.target.value)}}),h?(0,s.tZ)(nt,{label:"Location",value:g.value,placeholder:"San Francisco, Delhi, Rome, Cairo, Tokyo\u2026",onChange:function(e){return g.setValue(e.target.value)}}):null,(0,s.tZ)(Yn.Z,{text:"Social Media Links"}),(0,s.tZ)(nt,{label:"Twitter username",value:B.value,onChange:function(e){return B.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"GitHub username",value:E.value,onChange:function(e){return E.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"LinkedIn username",value:I.value,onChange:function(e){return I.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"Discord username",value:_.value,onChange:function(e){return _.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"YouTube channel",value:G.value,onChange:function(e){return G.setValue(e.target.value)}}),(0,s.tZ)(nt,{label:"Website",value:M.value,onChange:function(e){return M.setValue(e.target.value)}}),j.error?(0,s.tZ)(D.xv,{multiline:!0,css:[D.l0.color.accentNegativeStronger],children:j.error.message}):null,j.data&&"UserError"===j.data.setUserSocials.__typename?(0,s.tZ)(D.xv,{multiline:!0,css:[D.l0.color.accentNegativeStronger],children:null===(i=j.data.setUserSocials)||void 0===i?void 0:i.message}):null,(0,s.BX)(D.G7,{css:[D.l0.justify.end,D.l0.rowWithGap(12)],children:[(0,s.tZ)(D.zx,{text:"Cancel",type:"button",disabled:j.loading,onClick:function(e){e.preventDefault(),d()}}),(0,s.tZ)(D.zx,{text:"".concat(j.loading?"Saving...":"Save"),type:"submit",disabled:j.loading,colorway:"primary",iconLeft:(0,s.tZ)(Kn.Z,{})})]})]})}):null})},it=t(83803),ot=t(34847);!function(e){e.Following="following",e.Followers="followers"}(zn||(zn={})),function(e){e.Report="Report",e.Block="Block"}(jn||(jn={}));var lt=function(e){var n,t=e.user,r=e.currentUser,a=e.onUpdate,c=(null===r||void 0===r?void 0:r.id)===t.id,d=(0,l.Z)(u.useState(!1),2),f=d[0],p=d[1],h=(0,l.Z)(u.useState(!1),2),m=h[0],v=h[1],Z=(0,l.Z)(u.useState(!1),2),g=Z[0],b=Z[1],w=(0,Vn.H)()("reportingReason"),x=(0,l.Z)(u.useState(""),2),y=x[0],C=x[1],R=(0,l.Z)(u.useState(zn.Followers),2),k=R[0],U=R[1],P=(n={display:"grid",rowGap:8,columnGap:12,gridTemplateColumns:"min-content 1fr",gridTemplateAreas:'"photo buttons" "name name"'},(0,i.Z)(n,(0,M.wS)("tabletMin","tabletMax"),{gridTemplateColumns:"min-content 1fr min-content",gridTemplateAreas:'"photo name buttons"'}),(0,i.Z)(n,(0,M.et)("tabletMax"),{gridTemplateColumns:"1fr",gridTemplateAreas:'"photo" "name" "buttons"',rowGap:16}),n),B={border:"none",fontWeight:S.TV.fontWeightMedium,padding:0,height:"auto",":not([disabled]):hover":{backgroundColor:"transparent"}," span":{lineHeight:S.TV.lineHeightDefault}},I=(0,l.Z)(u.useState("Copy profile link"),2),E=I[0],G=I[1],_=(0,l.Z)(u.useState(t.isBlockedByCurrentUser),2),X=_[0],T=_[1],W={label:jn.Report,icon:(0,s.tZ)(tn.Z,{}),isDestructive:!0},O={label:jn.Block,icon:(0,s.tZ)(rn.Z,{}),isDestructive:!0},L=X?[W]:[W,O],N=(0,K.Z)(),z=N.showError,j=N.showConfirm,V=(0,l.Z)(function(e){var n=(0,o.Z)({},Je,e);return A.D(en,n)}({onCompleted:function(e){var n,t;"NotFoundError"!==(null===(n=e.setBlocking)||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===(t=e.setBlocking)||void 0===t?void 0:t.__typename)||z(e.setBlocking.message)},onError:function(e){z(e.message)}}),1),H=V[0],$=(0,l.Z)(function(e){var n=(0,o.Z)({},Je,e);return A.D(Qe,n)}({onCompleted:function(e){var n;(null===(n=e.createBoardReport.reportedUser)||void 0===n?void 0:n.id)===t.id&&j("User reported")},onError:function(e){z(e.message)}}),1),F=$[0];return(0,s.BX)(D.G7,{css:[S.l0.colWithGap(8),{userSelect:"none"},(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.colWithGap(16),{width:328}])],children:[c&&!t.hasPrivacyRole?(0,s.tZ)(D.u_,{isOpen:f,onRequestClose:function(){return p(!1)},children:(0,s.tZ)(rt,{onUpdate:a,onRequestClose:function(){return p(!1)}})}):null,(0,s.BX)("div",{css:P,children:[(0,s.tZ)(D.G7,{css:(0,i.Z)({gridArea:"photo",width:80},(0,M.et)("tabletMax"),{width:160}),children:c?(0,s.tZ)(et,{image:t.image,hasPrivacyRole:t.hasPrivacyRole}):(0,s.tZ)(Fe.Z,{size:"inherit",url:t.image})}),(0,s.BX)(D.G7,{css:[S.l0.pt(0),(0,i.Z)({gridArea:"name"},(0,M.wS)("tabletMin","tabletMax"),[S.l0.pt(24)])],children:[(0,s.BX)(D.G7,{css:[S.l0.flex.row,S.l0.flex.wrap,S.l0.align.start,S.l0.pb(4),(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.pb(8)])],children:[(0,s.tZ)(D.h4,{level:1,css:[S.l0.mr(8),S.l0.mt(4),(0,i.Z)({fontSize:S.TV.fontSizeSubheadBig,fontWeight:S.TV.fontWeightMedium,lineHeight:S.TV.lineHeightSubheadBig,userSelect:"text",width:"100%",maxWidth:"max-content"},(0,M.et)("tabletMax"),{maxWidth:"min(max-content, 328px)",marginTop:0,fontSize:S.TV.fontSizeHeaderBig,fontWeight:S.TV.fontWeightMedium,lineHeight:S.TV.lineHeightHeaderBig})],children:t.fullName||t.username}),(0,s.BX)(D.G7,{css:[S.l0.rowWithGap(8),S.l0.pt(8)],children:[t.isHacker?(0,s.tZ)(Ye.ZP,{name:"hacker",userRole:"hacker"}):null,t.roles.map((function(e){return(0,s.tZ)(Ye.ZP,{userRole:e.key,name:e.name,tagline:e.tagline||void 0},e.id)}))]})]}),(0,s.BX)(D.G7,{css:[S.l0.rowWithGap(4),S.l0.align.center],children:[(0,s.BX)(D.xv,{color:"dimmer",css:{userSelect:"text"},children:["@",t.username]}),c||X||t.isBlockingCurrentUser||!t.isFollowingCurrentUser?null:(0,s.tZ)(D.DR,{css:[S.l0.minWidth("fit-content")],text:"Follows you"})]})]}),(0,s.BX)(D.G7,{css:[S.l0.align.start,S.l0.pt(32),S.l0.flex.rowReverse,{gridArea:"buttons",gap:8},(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.pt(0),S.l0.flex.row])],children:[t.isLoggedIn&&!t.hasPrivacyRole?(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(ce.Z,{}),text:"Edit",onClick:function(){return p(!0)}}):null,c||X||t.isBlockingCurrentUser?null:(0,s.tZ)(an.Z,{user:t}),!c&&X?(0,s.tZ)(D.ZE,{label:"Blocked","aria-label":"Update blocked status",cssProps:[S.l0.backgroundColor.accentNegativeDimmer,S.l0.color.accentNegativeStrongest,S.l0.transition.snappy,{":not([disabled]):hover":{border:S.TV.accentNegativeStronger+" 1px solid"}}],icon:(0,s.tZ)(rn.Z,{}),onAction:function(){H({variables:{input:{targetUserId:t.id,shouldBlock:!1}}}),T(!1)},children:(0,s.tZ)(D.ck,{children:(0,s.BX)(D.G7,{css:S.l0.rowWithGap(8),children:[(0,s.tZ)(on.Z,{}),(0,s.tZ)(D.xv,{children:"Unblock"})]})},"option")}):null,!t.isBlockingCurrentUser&&(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(ln.Z,{}),text:E,onClick:function(){(0,Ze.Z)(window.location.href),G("Copied!"),setTimeout((function(){G("Copy profile link")}),1e3)},css:[S.l0.display.none,{"@media screen and (min-width: 420px)":[S.l0.display.flex]}]}),!c&&L.length>0?(0,s.tZ)(nn.Z,{large:!0,label:"Profile Actions",orientation:"horizontal",items:L,onItemClick:function(e){e.label===jn.Block&&(H({variables:{input:{targetUserId:t.id,shouldBlock:!0}}}),T(!0)),e.label===jn.Report&&b(!0)}}):null]})]}),!t.isBlockingCurrentUser&&(0,s.BX)(D.G7,{css:S.l0.rowWithGap(12),children:[(0,s.tZ)(D.zx,{outlined:!0,css:B,onClick:function(){U(zn.Followers),v(!0)},text:"".concat(t.followerCount," ").concat((0,ot.Z)("follower",t.followerCount))}),(0,s.tZ)(D.zx,{outlined:!0,css:B,onClick:function(){U(zn.Following),v(!0)},text:"".concat(t.followCount," following")})]}),t.bio?(0,s.tZ)(D.G7,{css:{userSelect:"text"},children:(0,s.tZ)(D.xv,{multiline:!0,children:(0,s.tZ)($e.ZP,{properties:{rel:"nofollow"},children:t.bio})})}):null,t.location&&!t.hasPrivacyRole?(0,s.BX)(D.G7,{css:[S.l0.rowWithGap(4)],children:[(0,s.tZ)(it.MapPin,{}),(0,s.tZ)(D.xv,{children:t.location})]}):null,(0,s.tZ)(D.u_,{isOpen:m,onRequestClose:function(){return v(!1)},maxWidth:872,children:t.username?(0,s.tZ)(En,{initialTab:k,username:t.username}):null}),(0,s.tZ)(D.u_,{isOpen:g,onRequestClose:function(){return b(!1)},children:(0,s.BX)(D.G7,{css:[S.l0.colWithGap(24)],children:[(0,s.tZ)(D.h4,{level:1,variant:"headerDefault",children:"Report user"}),(0,s.tZ)(D.B,{id:w,onChange:function(e){C(e.currentTarget.value)},placeholder:"Why do you want to report ".concat(t.username,"?"),css:[S.l0.minHeight(64),S.l0.maxHeight(128),{resize:"vertical"}]}),(0,s.BX)(D.G7,{css:[S.l0.rowWithGap(12),S.l0.justify.end],children:[(0,s.tZ)(D.zx,{onClick:function(){return b(!1)},text:"Cancel"}),(0,s.tZ)(D.zx,{text:"Report user",colorway:"negative",iconLeft:(0,s.tZ)(tn.Z,{}),onClick:function(){F({variables:{reportedUserId:t.id,reason:y}}),b(!1)}})]})]})})]})},at=t(17673);function st(e){return Object.keys(e).filter((function(n){return null!=e[n]})).reduce((function(n,t){return n[t]=e[t],n}),{})}function ut(e,n){var t=(0,l.Z)(function(e,n){var t=e.indexOf("?");return t<0?[e,st(n)]:[e.slice(0,t),st((0,o.Z)({},(0,at.decode)(e.slice(t+1)),n))]}(e.asPath,n),2),r=t[0],i=t[1];return{href:{pathname:e.pathname,query:st((0,o.Z)({},e.query,n))},as:{pathname:r,query:i}}}var ct=t(43484),dt=["repls","community","status","warnings"],ft=function(e,n){return ut(e,{tab:n})},pt=function(e){var n=e.currentTab,t=e.currentUser,r=e.isOwnProfile,i=(0,d.useRouter)(),l=(0,Qn.c)("flag-task-manager"),a=l.enabled,u=l.loading,c=a&&!u;return(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(16),S.l0.pl(16)],children:[(0,s.tZ)(yn,(0,v.Z)((0,o.Z)({active:"repls"===n},ft(i,"repls")),{children:"Repls"})),(0,ct.Z)()||(null===t||void 0===t?void 0:t.isPrivacyAccount)?null:(0,s.tZ)(yn,(0,v.Z)((0,o.Z)({active:"community"===n},ft(i,"community")),{children:"Community"})),c&&r?(0,s.tZ)(yn,(0,v.Z)((0,o.Z)({active:"status"===n},ft(i,"status")),{children:"Status"})):null,(null===t||void 0===t?void 0:t.isModerator)||(null===t||void 0===t?void 0:t.isAdmin)?(0,s.tZ)(yn,(0,v.Z)((0,o.Z)({active:"warnings"===n},ft(i,"warnings")),{children:"Warnings (mod)"})):null]})},ht=t(41433),mt=t(71306),vt=t(5748);function Zt(){var e=(0,g.Z)(["\n  fragment ProfileWarning on Warning {\n    id\n    reason\n    timeCreated\n    moderator {\n      id\n      username\n    }\n  }\n"]);return Zt=function(){return e},e}function gt(){var e=(0,g.Z)(["\n  query ProfileWarnings($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      warnings {\n        id\n        ...ProfileWarning\n      }\n    }\n  }\n  ","\n"]);return gt=function(){return e},e}var bt={},wt=(0,b.Ps)(Zt()),xt=(0,b.Ps)(gt(),wt);function yt(){var e=(0,g.Z)(["\n  mutation removeUserWarning($username: String!, $warnId: Int!) {\n    removeWarn(username: $username, warnId: $warnId) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return yt=function(){return e},e}var Ct={},Rt=(0,b.Ps)(yt());var kt=t(87603),Ut=t.n(kt),Pt={styles:(0,s.tZ)(Ut(),{id:"7b374cb2f56b87b1",children:".card.jsx-7b374cb2f56b87b1{position:relative;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}"}),className:"jsx-7b374cb2f56b87b1"},St=Pt.className,Bt=Pt.styles,It=t(70917),Et=t(80380),Dt=(0,It.iv)([S.l0.py(16),S.l0.px(24)]),Gt=(0,It.iv)([S.l0.my(8),{display:"block"}]),_t=function(e){var n,t,r=e.warning,i=e.username,a=e.onDelete,u=(0,K.Z)(),c=u.showError,d=u.showConfirm,f=(0,l.Z)(function(e){var n=(0,o.Z)({},Ct,e);return A.D(Rt,n)}({variables:{username:i,warnId:r.id},onCompleted:function(e){var n=e.removeWarn;"UserError"===n.__typename?c(n.message):"Warning"===n.__typename&&(d("Warning with ID ".concat(n.id," has been deleted.")),a())}}),2),p=f[0],h=f[1].loading;return(0,s.tZ)("div",{css:[S.l0.py(16)],children:(0,s.BX)("div",{className:We()(St,"card"),css:Dt,children:[(0,s.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.BX)(F.x,{variant:"headerDefault",children:["Warning #",r.id]}),(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(oe.Z,{}),css:[S.l0.ml(16)],colorway:"negative",text:"Delete",disabled:h,onClick:function(){return p()},outlined:!0,big:!0})]}),(0,s.BX)(F.x,{variant:"subheadDefault",css:Gt,children:["REASON:"," ",(0,s.tZ)("span",{css:[{fontWeight:"normal"},S.l0.ml(8)],children:r.reason})]}),(0,s.BX)("div",{children:["Warned by"," ",r.moderator?(0,s.BX)("a",{target:"_blank",href:"/@"+(null===(n=r.moderator)||void 0===n?void 0:n.username),children:["@",null===(t=r.moderator)||void 0===t?void 0:t.username]}):"(deleted user)"]}),(0,s.tZ)(Et.Z,{css:[S.l0.ml(8)],date:r.timeCreated}),Bt]})})},Mt=function(e){var n=function(e){var n=(0,o.Z)({},bt,e);return C.a(xt,n)}({variables:e}),t=n.data,r=n.loading,i=n.error,l=n.refetch;if(r)return(0,s.tZ)(vt.Z,{});if(i)return(0,s.tZ)(D.xv,{children:"error.message"});if(!t||!t.user)return(0,s.tZ)(D.xv,{multiline:!0,children:"There seems to be some trouble finding this user\u2019s warnings."});var a=t.user.warnings||[];return a.length?(0,s.tZ)("div",{children:a.map((function(n){return n&&(0,s.tZ)(_t,{warning:n,username:e.username,css:D.l0.mt(16),onDelete:l})}))}):(0,s.tZ)(D.G7,{css:[D.l0.p(16)],children:(0,s.BX)(D.xv,{multiline:!0,variant:"subheadDefault",css:[D.l0.textAlign.center],children:[t.user.displayName," has never been warned yet."]})})},Xt=t(22305),Tt=t(74926),Wt=(t(19409),t(93096)),At=t.n(Wt),Ot=t(16965),Lt=t(93604),Nt=t(57263);function zt(){var e=(0,g.Z)(["\n                      &:hover {\n                        box-shadow: inset 0 0 0 2px black;\n                        cursor: pointer;\n                      }\n                    "]);return zt=function(){return e},e}var jt={mobileMax:"@media (min-width: ".concat(Nt.j.mobileMax,"px)")},Vt=P.K.a,Ht=(0,It.iv)([S.l0.color.foregroundDefault,S.l0.flex.growAndShrink(1),{fontSize:S.TV.fontSizeHeaderDefault,fontWeight:S.TV.fontWeightMedium,textDecoration:"none","::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1},":focus":{"::after":{outline:"2px solid",outlineColor:S.TV.accentPrimaryDefault}}},S.l0.focusRing]),$t=function(e){var n=e.repl,t=(0,d.useRouter)(),r=(0,Lt.F)(n.timeCreated);return(0,s.BX)(P.Z,{css:[S.l0.py(16),S.l0.px(24),S.l0.minHeight(96),S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.spaceBetween,S.l0.position.relative,{":hover":{backgroundColor:S.TV.backgroundHigher}}],children:[(0,s.BX)(P.Z,{css:[S.l0.colWithGap(4),S.l0.flex.shrink(1),(0,i.Z)({},jt.mobileMax,S.l0.width("60%"))],children:[(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8),S.l0.flex.growAndShrink(1)],children:[(0,s.tZ)(Me.Z,{alt:n.templateInfo.label,iconUrl:n.templateInfo.iconUrl}),(0,s.tZ)(ye(),(0,v.Z)((0,o.Z)({},(0,ee.j3)(n)),{passHref:!0,children:(0,s.tZ)(Vt,{css:Ht,onClick:function(e){window.innerWidth<1080||function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||(e.preventDefault(),t.push({pathname:t.pathname,query:(0,v.Z)((0,o.Z)({},t.query),{dialogReplId:n.id})},n.url+"?v=1",{shallow:!0}))},children:(0,s.tZ)(F.x,{variant:"headerDefault",children:n.title})})}))]}),n.description?(0,s.tZ)(F.x,{multiline:!0,color:"dimmer",css:(0,It.iv)({fontWeight:S.TV.fontWeightMedium}),children:n.description}):null]}),(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8),S.l0.align.center,(0,i.Z)({display:"none"},jt.mobileMax,[S.l0.rowWithGap(8),S.l0.flex.row,S.l0.flex.wrap])],children:[(0,s.tZ)(P.Z,{tag:"time",css:[S.l0.color.foregroundDimmest,S.l0.fontWeight.medium],dateTime:n.timeCreated,children:r}),(0,s.tZ)(P.Z,{tag:"ul",css:[S.l0.flex.row,S.l0.flex.rowReverse,S.l0.width(112),{listStyleType:"none"}],children:n.multiplayers.slice(0,5).map((function(e,n){return(0,s.tZ)(P.Z,{tag:"li",css:n>0&&{marginRight:-12,zIndex:n},children:(0,s.tZ)(ye(),{href:"/@".concat(e.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.tZ)(un.Z,{size:32,username:e.username,src:e.image,css:(0,It.iv)(zt())})})})},e.username)}))})]})]})},Ft=t(21131),Yt=(0,u.forwardRef)((function(e,n){var t=e.onChange,r=(0,wn.Z)(e,["onChange"]),i=(0,Ot.Z)(t),l=(0,Ft.Z)((function(){return At()((function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.call(i,e)}),500,{leading:!1,trailing:!0})}),[i]);return(0,s.tZ)(D.II,(0,o.Z)({ref:n,onChange:l},r))})),qt=function(e){var n,t,r,i=e.user,l=(0,u.useState)(""),a=l[0],c=l[1],d=function(e){var n=(0,o.Z)({},z,e);return C.a(j,n)}({ssr:!1,variables:{username:i.username,search:a}}),f=d.data,p=d.loading,m=d.error,v=d.fetchMore;if(m)return(0,s.tZ)(P.Z,{css:[S.l0.center,S.l0.p(32)],children:(0,s.tZ)(F.x,{children:"Error loading Repls"})});var Z=null===f||void 0===f||null===(n=f.user)||void 0===n?void 0:n.profileRepls.items,g=null===f||void 0===f||null===(t=f.user)||void 0===t||null===(r=t.profileRepls)||void 0===r?void 0:r.pageInfo;return""===a&&0===(null===Z||void 0===Z?void 0:Z.length)?(0,s.tZ)(P.Z,{css:[S.l0.center,S.l0.p(32)],children:(0,s.BX)(F.x,{variant:"subheadBig",children:[i.fullName||i.username," has no Repls yet \ud83d\ude1e"]})}):(0,s.BX)(P.Z,{css:[S.l0.colWithGap(16)],children:[(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8),S.l0.justify.spaceBetween],children:[(0,s.tZ)(F.x,{variant:"headerBig",children:"All Repls"}),(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault()},children:(0,s.tZ)(Yt,{placeholder:"Search Repls",defaultValue:"",onChange:function(e){return c(e.target.value)}})})]}),(0,s.tZ)(X.Z,{elevated:!0,css:[S.l0.borderRadius(8),{border:"1px solid "+S.TV.outlineDimmest}],children:null==Z||null==g?(0,s.tZ)(h.Z,{style:{margin:"40px auto"}}):0===Z.length?(0,s.tZ)(P.Z,{css:[S.l0.center,S.l0.p(32)],children:(0,s.BX)(F.x,{variant:"subheadDefault",children:['No Repls found for "',a,'"']})}):(0,s.BX)(s.HY,{children:[(0,s.tZ)(P.Z,{tag:"ul",css:{listStyle:"none"},children:Z.map((function(e){return(0,s.tZ)(P.Z,{tag:"li",children:(0,s.tZ)($t,{repl:e})},e.id)}))}),g.hasNextPage&&(0,s.tZ)(P.Z,{css:[S.l0.center,S.l0.p(32)],children:(0,s.tZ)(D.zx,{onClick:function(e){e.preventDefault(),p||v({variables:{username:i.username,after:g.nextCursor,search:a}})},text:"View more"})})]})})]})},Kt=t(88652),Jt=t(47634),Qt=t(26473),er=(0,It.F4)("\n  from {transform: rotate(0deg);}\n  to {transform: rotate(5deg);}\n"),nr=(0,It.F4)("\n  0% {transform: rotate(0deg) translateX(clamp(45px, 10vw, 70px)) rotate(0deg) rotate(20deg);}\n  25% {transform: rotate(90deg) translateX(clamp(45px, 10vw, 70px)) rotate(-90deg) rotate(-20deg); }\n  50% {transform: rotate(180deg) translateX(clamp(45px, 10vw, 70px)) rotate(-180deg) rotate(20deg); }\n  75% {transform: rotate(270deg) translateX(clamp(45px, 10vw, 70px)) rotate(-270deg) rotate(-20deg); }\n  100% {transform: rotate(360deg) translateX(clamp(45px, 10vw, 70px)) rotate(-360deg) rotate(20deg); }\n"),tr=" 7s linear infinite",rr=function(e){var n=e.isOwnProfile;return(0,s.BX)(P.Z,{css:[S.l0.align.center,S.l0.colWithGap(64),S.l0.p(4),S.l0.py(32),S.l0.zIndex(2),(0,i.Z)({},(0,M.EM)("tabletMin"),[S.l0.colWithGap(32)])],children:[(0,s.BX)("div",{css:[S.l0.width("100%"),S.l0.maxWidth(436),S.l0.position.relative,{aspectRatio:"2.18 / 1"}],children:[(0,s.tZ)("img",{src:"/public/images/profile/wizard-cat.svg",alt:"a drawing of a cat wearing a lab coat and holding a wizard\u2019s wand",css:{position:"absolute",width:"46%",bottom:0,left:0,transformOrigin:"25% 100%",animation:er+" "+7/6+"s alternate infinite ease-out"}}),(0,s.tZ)("img",{src:"/public/images/profile/monitor.svg",alt:"a drawing of a monitor",css:{position:"absolute",width:"19%",top:44,right:56,animation:nr+tr}}),(0,s.tZ)("img",{src:"/public/images/profile/phone.svg",alt:"a drawing of a phone",css:{position:"absolute",width:"11%",top:51,right:68,animation:nr+tr,animationDelay:-7/3+"s"}}),(0,s.tZ)("img",{src:"/public/images/profile/coffee.svg",alt:"a drawing of a cup of coffee",css:{position:"absolute",width:"16%",top:56,right:64,animation:nr+tr,animationDelay:-14/3+"s"}})]}),(0,s.BX)(P.Z,{css:[S.l0.colWithGap(24),S.l0.align.center,S.l0.textAlign.center],children:[(0,s.tZ)(F.x,{variant:"subheadBig",multiline:!0,children:n?"This is where your Repls will go when you create them!":"This person doesn't have any Repls yet!"}),n?(0,s.tZ)(P.Z,{css:{boxShadow:"0 0 16px rgba(87, 171, 255, 0.5)",borderRadius:8},children:(0,s.tZ)(Jt.Z,{trackingContext:"profile",children:(0,s.tZ)(re.ZP,{text:"Create your first Repl",colorway:"primary",iconLeft:(0,s.tZ)(Y.Z,{})})})}):(0,s.tZ)(s.HY,{children:(0,s.tZ)(be.Z,{iconLeft:(0,s.tZ)(Qt.Z,{}),colorway:"primary",text:"Invite them to a Repl",href:"/~"})})]})]})},ir=t(25330),or=t(49619);function lr(){var e=(0,g.Z)(["\n  fragment CoverImageUser on User {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n    hasPrivacyRole\n  }\n"]);return lr=function(){return e},e}function ar(){var e=(0,g.Z)(["\n  fragment CoverImageCurrentUser on CurrentUser {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n  }\n"]);return ar=function(){return e},e}function sr(){var e=(0,g.Z)(["\n  query CoverImage($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      ...CoverImageUser\n    }\n  }\n  ","\n"]);return sr=function(){return e},e}function ur(){var e=(0,g.Z)(["\n  mutation CoverImageUpdate($input: SetUserCoverImageInput!) {\n    setUserCoverImage(input: $input) {\n      ... on CurrentUser {\n        id\n        ...CoverImageCurrentUser\n      }\n    }\n  }\n  ","\n"]);return ur=function(){return e},e}var cr={},dr=(0,b.Ps)(lr()),fr=(0,b.Ps)(ar()),pr=(0,b.Ps)(sr(),dr);var hr=(0,b.Ps)(ur(),fr);var mr=t(62913),vr=t(8408),Zr=t(76945),gr=t(60459),br=t(62722),wr=t(7657),xr=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],yr=function(){var e=Math.floor(Math.random()*xr.length);return"linear-gradient(to right, ".concat(xr[e][0],", ").concat(xr[e][1],")")}(),Cr=function(e){return"touches"in e},Rr=function(e){var n=e.hasImage,t=e.onClick,r=[(0,s.tZ)(ae.ck,{children:(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(or.Z,{}),(0,s.tZ)(F.x,{children:"Upload banner image"})]})},"upload")];return n&&r.push((0,s.tZ)(ae.ck,{children:(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(vr.Z,{}),(0,s.tZ)(F.x,{children:"Position banner image"})]})},"position"),(0,s.tZ)(ae.ck,{children:(0,s.BX)(P.Z,{css:[S.l0.flex.row,S.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(oe.Z,{}),(0,s.tZ)(F.x,{children:"Remove banner image"})]})},"remove")),(0,s.tZ)(ae.ZE,{"aria-label":"update banner image",icon:(0,s.tZ)(Zr.Z,{}),onAction:function(e){return t(e)},children:r})},kr=function(e){var n,t,c=e.username,d=e.isOwnProfile,f=(0,K.Z)(),p=f.showError,m=f.showConfirm,v=function(e){var n=(0,o.Z)({},cr,e);return C.a(pr,n)}({variables:{username:c},onCompleted:function(e){var n=e.user;(null===n||void 0===n?void 0:n.coverImage)?(B(n.coverImage.url),M(n.coverImage.offsetY)):(B(void 0),M(0))}}),Z=v.data,g=v.loading,b=(0,l.Z)(function(e){var n=(0,o.Z)({},cr,e);return A.D(hr,n)}({onCompleted:function(e){var n=e.setUserCoverImage;"CurrentUser"===n.__typename&&(n.coverImage?(B(n.coverImage.url),M(n.coverImage.offsetY)):(B(void 0),M(0))),m("Updated cover image")},onError:function(e){return p(e.message)},update:function(e,n){(null===Z||void 0===Z?void 0:Z.user)&&e.modify({id:e.identify(Z.user),fields:{coverImage:function(){var e,t;if("CurrentUser"===(null===(e=n.data)||void 0===e||null===(t=e.setUserCoverImage)||void 0===t?void 0:t.__typename))return n.data.setUserCoverImage.coverImage}}})}}),1),w=b[0],x="User"===(null===Z||void 0===Z||null===(n=Z.user)||void 0===n?void 0:n.__typename)&&Z.user,y="User"===(null===Z||void 0===Z||null===(t=Z.user)||void 0===t?void 0:t.__typename)&&Z.user.coverImage,R=(0,gr.Z)({onUpload:function(e){var n=e.id,t=e.url;x&&w({variables:{input:{imageId:n,offsetY:0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:{url:t,offsetY:0}}}})},onUploadPreview:function(e){var n=e.dataUrl;return B(n)},onError:function(e){return p(e.message)}}),k=(0,l.Z)(u.useState(),2),U=k[0],B=k[1],I=(0,l.Z)(u.useState(0),2),E=I[0],D=I[1],G=(0,l.Z)(u.useState(0),2),_=G[0],M=G[1],X=(0,l.Z)(u.useState(0),2),T=X[0],W=X[1],O=(0,l.Z)(u.useState(0),2),L=O[0],N=O[1],z=(0,l.Z)(u.useState(!1),2),j=z[0],V=z[1],H=u.useRef(null),$=u.useRef(null),F=u.useRef(null),Y=u.useRef(),q=u.useRef(null),J=(0,Ae.Z)((function(){Y.current&&D(Y.current.naturalHeight)})),Q=u.useCallback(function(){var e=(0,r.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return null===e||0===e.length?[2]:(n=e.find((function(e){return e.type.startsWith("image/")})))?[4,R.uploadImage(n,wr.N.ProfileCoverImage)]:(p("Please select an image file"),[2]);case 1:return t.sent()&&(0,Jn.j)(Jn.U3.PROFILE_EDITED,{surface:"banner"}),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[R,p]),ee=u.useCallback((function(e){if(e.target===$.current&&null===q.current){e.preventDefault();var n=Cr(e)?e.touches[0].clientY:e.clientY;q.current=n}}),[]),ne=u.useCallback((function(e){if(null!==q.current&&null!==H.current){e.preventDefault();var n=(Cr(e)?e.touches[0].clientY:e.clientY)-q.current,t=T+n;if(t<=0){if(E&&Math.abs(t)+H.current.clientHeight>E)return;N(n)}}}),[T,E]),te=u.useCallback((function(e){null!==q.current&&(e.preventDefault(),W(T+L),N(0),q.current=null)}),[T,L]);return u.useEffect((function(){if($.current&&j){var e=$.current;return e.addEventListener("mousedown",ee),e.addEventListener("touchstart",ee),window.addEventListener("mousemove",ne),window.addEventListener("mouseup",te),e.addEventListener("touchmove",ne),e.addEventListener("touchend",te),e.addEventListener("touchcancel",te),function(){e&&(e.removeEventListener("mousedown",ee),window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",te),e.removeEventListener("touchstart",ee),e.removeEventListener("touchmove",ne),e.removeEventListener("touchend",te),e.removeEventListener("touchcancel",te))}}}),[$,j,ee,ne,te]),x?(0,s.BX)(P.Z,{innerRef:H,css:[(0,i.Z)({position:"absolute",height:120,width:"100%",userSelect:"none",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"},"@media (min-width: ".concat(Nt.j.tabletMax,"px)"),{height:200}),Z&&!g&&!y&&{backgroundImage:yr}],children:[d&&!x.hasPrivacyRole?(0,s.BX)(P.Z,{innerRef:$,css:[{position:"absolute",top:0,left:0,width:"100%",height:j?"100%":"auto",cursor:j?"move":"auto",zIndex:10}],children:[(0,s.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:F,accept:br.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&Q(r?Array.from(r):null)}}),(0,s.tZ)(P.Z,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:R.isLoading?(0,s.tZ)(P.Z,{css:[{margin:10,width:24,height:24}],children:(0,s.tZ)(h.Z,{size:24})}):j?(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(8)],children:[(0,s.tZ)(re.ZP,{text:"Cancel",onClick:function(e){e.stopPropagation(),W(0),N(0),V(!1)}}),(0,s.tZ)(re.ZP,{text:"Done",onClick:function(e){e.stopPropagation();var n=Math.floor(100*Math.abs(T/E));M(n),V(!1),x&&y&&w({variables:{input:{offsetY:n}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:{url:y.url,offsetY:n}}}})}})]}):(0,s.tZ)(Rr,{hasImage:!!U,onClick:function(e){var n;("remove"===e&&x&&(W(0),N(0),D(0),w({variables:{input:{remove:!0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:null}}})),"position"===e&&(V(!0),W(-Math.floor(E*(_/100))),N(0)),"upload"===e)&&(null===(n=F.current)||void 0===n||n.click())}})})]}):null,(0,s.tZ)(P.Z,{innerRef:J,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:U?(0,s.BX)(s.HY,{children:[(0,s.tZ)(mr.Z,{onLoad:function(e){Y.current=e.target},onLoadingComplete:function(e){D(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(j?T+L:E-_/100*E<200?0:-_/100*E,"px"),layout:"fill",src:U,priority:!0,alt:""}),(0,s.tZ)(P.Z,{css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"}]})]}):null})]}):null};function Ur(){var e=(0,g.Z)(["\n  query PresenceBadge($username: String!) {\n    currentUser {\n      id\n      showPresence\n    }\n    user: userByUsername(username: $username) {\n      id\n      presenceStatus {\n        lastSeen\n        isOnline\n      }\n      hasPrivacyRole\n    }\n  }\n"]);return Ur=function(){return e},e}function Pr(){var e=(0,g.Z)(["\n  mutation UpdateUserPrivacyPreferences(\n    $input: UpdateUserPrivacyPreferencesInput!\n  ) {\n    updateUserPrivacyPreferences(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        showPresence\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Pr=function(){return e},e}var Sr={},Br=(0,b.Ps)(Ur());var Ir=(0,b.Ps)(Pr());var Er=function(e){var n,t,r,i,a,c,d,f,p=function(e){var n=(0,o.Z)({},Sr,e);return C.a(Br,n)}({variables:{username:e.username},pollInterval:12e4}).data,h=(0,K.Z)().showError,m=(0,l.Z)(function(e){var n=(0,o.Z)({},Sr,e);return A.D(Ir,n)}({onCompleted:function(e){var n,t;"UserError"!==(null===(n=e.updateUserPrivacyPreferences)||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===(t=e.updateUserPrivacyPreferences)||void 0===t?void 0:t.__typename)||h(e.updateUserPrivacyPreferences.message)},onError:function(e){return h(e.message)}}),1),v=m[0],Z=null!=(null===p||void 0===p?void 0:p.user)&&(null===(n=p.user)||void 0===n?void 0:n.id)===(null===(t=p.currentUser)||void 0===t?void 0:t.id),g=null===(d=null===p||void 0===p||null===(r=p.currentUser)||void 0===r?void 0:r.showPresence)||void 0===d||d,b=u.useCallback((function(){var e;v({variables:{input:{show_presence:g?T.YH.Never:T.YH.WhenOnline}},optimisticResponse:{updateUserPrivacyPreferences:{__typename:"CurrentUser",id:(null===p||void 0===p||null===(e=p.currentUser)||void 0===e?void 0:e.id)||0,showPresence:!g}}})}),[null===p||void 0===p||null===(i=p.currentUser)||void 0===i?void 0:i.id,g,v]),w=(0,Oe.Z)();if(u.useEffect((function(){return w()}),[w]),!p||(null===(a=p.user)||void 0===a?void 0:a.hasPrivacyRole)||!p.currentUser||!(null===p||void 0===p||null===(c=p.user)||void 0===c?void 0:c.presenceStatus))return null;var x=Z?g:null!==(f=p.user.presenceStatus.isOnline)&&void 0!==f&&f,y=x?S.l0.color.accentPositiveStronger:S.l0.color.foregroundDimmer,R=function(e){return e?"Online":"Offline"},k=!x&&!Z&&null!=p.user.presenceStatus.lastSeen&&"Last online ".concat((0,Lt.F)(p.user.presenceStatus.lastSeen));return Z?(0,s.tZ)(s.HY,{children:(0,s.tZ)(P.Z,{css:[S.l0.align.start],children:(0,s.tZ)(ae.ZE,{css:{backgroundColor:"transparent"},label:k||R(x),"aria-label":"update online presence",icon:(0,s.tZ)(it.SmallCircle,{css:[y]}),onAction:function(){return b()},children:(0,s.BX)(ae.ck,{children:[(0,s.BX)(F.x,{children:["Set yourself as ",R(!x).toLowerCase()]}),x?(0,s.tZ)(F.x,{multiline:!0,color:"dimmer",variant:"small",children:"This will not affect your visibility within Repls or Teams."}):null]},"option")})})}):(0,s.BX)(P.Z,{css:[S.l0.rowWithGap(4),S.l0.align.center,S.l0.p(4)],children:[(0,s.tZ)(it.SmallCircle,{css:[y]}),(0,s.tZ)(F.x,{css:[y],children:k||R(x)})]})},Dr=function(e){var n=e.refetchRepls,t=(0,l.Z)(u.useState(!1),2),r=t[0],o=t[1];return(0,s.BX)(P.Z,{css:[S.l0.flex.grow(2),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.px(16)])],children:[(0,s.BX)(X.Z,{background:"higher",css:[S.l0.width("100%"),S.l0.justify.center,S.l0.align.center,{height:240,position:"relative",overflow:"hidden"},(0,i.Z)({},(0,M.et)("tabletMin"),{borderRadius:16})],children:[(0,s.BX)(P.Z,{css:[S.l0.colWithGap(16),S.l0.px(32),S.l0.align.center,S.l0.textAlign.center,S.l0.zIndex(2)],children:[(0,s.tZ)(F.x,{variant:"headerDefault",multiline:!0,children:"Pin a Repl to showcase it to others!"}),(0,s.tZ)(re.ZP,{iconLeft:(0,s.tZ)(se.Z,{}),colorway:"primary",text:"Pin a Repl",onClick:function(){return o(!0)},stretch:!1})]}),(0,s.tZ)(P.Z,{css:[{position:"absolute",top:68,left:"max(75%, 256px)",width:256}],children:(0,s.tZ)("img",{src:"/public/images/robot_holding_a_pen_512w.png",alt:"a drawing of a robot hand holding a pen"})})]}),(0,s.tZ)(_.Z,{isOpen:r,onRequestClose:function(){return o(!1)},children:(0,s.tZ)(Xe,{onSelect:function(){n(),o(!1)},showcasedRepls:[],showComboBox:!0})})]})},Gr=t(93426),_r=t(5784),Mr=t(21767),Xr=t(75436);function Tr(){var e=(0,g.Z)(["\n  fragment ReplBootStatusRepl on Repl {\n    id\n    title\n    iconUrl\n    ...ReplLinkRepl\n  }\n  ","\n"]);return Tr=function(){return e},e}function Wr(){var e=(0,g.Z)(["\n  fragment ReplBootStatusItems on ReplBootStatusConnection {\n    items {\n      repl {\n        ...ReplBootStatusRepl\n      }\n      status\n      timestamp\n    }\n  }\n  ","\n"]);return Wr=function(){return e},e}function Ar(){var e=(0,g.Z)(["\n  fragment ReplBootStatusUpdateEvent on ReplBootStatusUpdateEvent {\n    repl {\n      ...ReplBootStatusRepl\n    }\n    status\n    timestamp\n  }\n  ","\n"]);return Ar=function(){return e},e}function Or(){var e=(0,g.Z)(["\n  query ReplBootStatus($input: ReplBootStatusInput) {\n    replBootStatus(input: $input) {\n      ... on ReplBootStatusConnection {\n        ...ReplBootStatusItems\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Or=function(){return e},e}function Lr(){var e=(0,g.Z)(["\n  subscription ReplBootStatusUpdates($input: ReplBootStatusUpdatesInput) {\n    replBootStatusUpdates(input: $input) {\n      ...ReplBootStatusUpdateEvent\n    }\n  }\n  ","\n"]);return Lr=function(){return e},e}var Nr={},zr=(0,b.Ps)(Tr(),Mr.Y),jr=(0,b.Ps)(Wr(),zr),Vr=(0,b.Ps)(Ar(),zr),Hr=(0,b.Ps)(Or(),jr);var $r=(0,b.Ps)(Lr(),Vr);var Fr=t(67669),Yr=t(88961),qr={limited:-2,alwaysOn:-1,awake:0,asleep:1};function Kr(e,n){var t=qr[e.status]-qr[n.status];if(0!==t)return t;var r="string"===typeof e.timestamp?new Date(e.timestamp):e.timestamp;return+("string"===typeof n.timestamp?new Date(n.timestamp):n.timestamp)-+r}function Jr(e,n){var t="string"===typeof e.timestamp?new Date(e.timestamp):e.timestamp;return+("string"===typeof n.timestamp?new Date(n.timestamp):n.timestamp)-+t}var Qr=t(33773),ei=t(7055),ni=t(60081);function ti(){var e=(0,g.Z)(["\n  fragment ReplBootStatusHistoryEvents on ReplBootStatusHistoryConnection {\n    items {\n      status\n      timestamp\n    }\n  }\n"]);return ti=function(){return e},e}function ri(){var e=(0,g.Z)(["\n  query ReplBootStatusHistory($input: ReplBootStatusHistoryInput!) {\n    replBootStatusHistory(input: $input) {\n      __typename\n      ... on ReplBootStatusHistoryConnection {\n        ...ReplBootStatusHistoryEvents\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ri=function(){return e},e}var ii={},oi=(0,b.Ps)(ti()),li=(0,b.Ps)(ri(),oi);var ai=function(e){var n=e.task,t=function(e){var n=(0,o.Z)({},ii,e);return C.a(li,n)}({variables:{input:{replId:n.repl.id,count:25}}}),i=t.data,l=t.loading,u=t.error,c=t.fetchMore,d="ReplBootStatusHistoryConnection"===(null===i||void 0===i?void 0:i.replBootStatusHistory.__typename)&&i.replBootStatusHistory.pageInfo.hasNextPage,f=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return l||"ReplBootStatusHistoryConnection"!==(null===i||void 0===i?void 0:i.replBootStatusHistory.__typename)||!i.replBootStatusHistory.pageInfo.hasNextPage||null==i.replBootStatusHistory.pageInfo.nextCursor?[2]:[4,c({variables:{input:{replId:n.repl.id,after:i.replBootStatusHistory.pageInfo.nextCursor,count:25}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),p=(0,cn.Z)({onLoadMore:f,rootMargin:"0px 0px 300px 0px"}).targetRef,m=[],v=(null===u||void 0===u?void 0:u.message)||null;if(null===i||void 0===i?void 0:i.replBootStatusHistory)switch(i.replBootStatusHistory.__typename){case"ReplBootStatusHistoryConnection":m=i.replBootStatusHistory.items;break;case"UserError":case"UnauthorizedError":v=i.replBootStatusHistory.message}return(0,s.tZ)(D.G7,{css:[D.l0.height("170px")],children:(0,s.tZ)(D.G7,{css:[D.l0.position.absolute,D.l0.height("170px"),D.l0.overflow("scroll"),D.l0.left(0),D.l0.right(0),D.l0.bottom(0),{borderTop:"1px solid ".concat(D.TV.outlineDimmest)}],children:(0,s.BX)(D.G7,{css:[D.l0.p(16),D.l0.colWithGap(8)],children:[v?(0,s.tZ)(D.G7,{css:[D.l0.pb(8),D.l0.center,D.l0.align.stretch],children:(0,s.tZ)(D.E_,{colorway:"warning",icon:(0,s.tZ)(Yr.Z,{}),text:v})}):null,l?(0,s.tZ)(D.G7,{css:[D.l0.p(8),D.l0.center],children:(0,s.tZ)(h.Z,{})}):m.map((function(e,t){return e?(0,s.BX)(D.G7,{css:[D.l0.rowWithGap(16),D.l0.color.foregroundDimmer],children:[(0,s.tZ)("code",{css:[D.l0.width("300px")],children:(0,ni.Z)(new Date(e.timestamp),"MMM dd yyyy hh:mm:ss a\tO")}),(0,s.BX)("code",{children:["| ",e.status]})]},"".concat(n.repl.id,"-").concat(t)):(0,s.tZ)(s.HY,{})})),!l&&d?(0,s.tZ)(D.G7,{css:[D.l0.center,D.l0.pt(16)],children:(0,s.tZ)(D.hU,{tooltipHidden:!0,alt:"Show more",onClick:f,ref:p,children:(0,s.tZ)(Qr.Z,{})})}):null]})})})},si=t(91082),ui=t(51995);function ci(){var e=(0,g.Z)(["\n  mutation ReplBootStatusStopRepl($replId: String!) {\n    replBootStatusStopRepl(replId: $replId) {\n      __typename\n      ... on ReplBootStatusStopReplSuccess {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return ci=function(){return e},e}var di={},fi=(0,b.Ps)(ci());var pi,hi=function(e){var n=e.task,t=(0,K.Z)().showError,r=(0,l.Z)(function(e){var n=(0,o.Z)({},di,e);return A.D(fi,n)}({onError:function(){return t("Something went wrong")}}),2),i=r[0],a=r[1].loading;return(0,s.tZ)(D.zx,{text:"Stop",outlined:!0,onClick:function(){return i({variables:{replId:n.repl.id}})},disabled:a,iconLeft:a?(0,s.tZ)(h.Z,{}):(0,s.tZ)(si.Z,{})})},mi=function(e){var n=e.task,t=(0,s.tZ)(s.HY,{});switch(n.status){case Fr.bN.Limited:case Fr.bN.Awake:t=(0,s.tZ)(hi,{task:n});break;case Fr.bN.AlwaysOn:t=(0,s.tZ)(D.ZP,(0,v.Z)((0,o.Z)({text:"Restart",outlined:!0},(0,ee.aq)(n.repl)),{target:"_blank",iconLeft:(0,s.tZ)(it.RotateCw,{})}));break;case Fr.bN.Asleep:t=(0,s.tZ)(D.ZP,(0,v.Z)((0,o.Z)({text:"Start",outlined:!0},(0,ee.aq)(n.repl)),{target:"_blank",iconLeft:(0,s.tZ)(ui.Z,{})}))}return(0,s.tZ)(D.G7,{css:[D.l0.width(90),D.l0.my(4),D.l0.ml(8)],children:t})},vi=t(64184),Zi=(0,It.iv)([D.l0.align.center,D.l0.rowWithGap(8),{textTransform:"capitalize"}]),gi=function(e){switch(e.status){case Fr.bN.Limited:return(0,s.BX)(D.G7,{css:[Zi,D.l0.color.accentNegativeDefault],children:[(0,s.tZ)(Yr.Z,{size:12}),(0,s.tZ)(D.xv,{children:"Limited"})]});case Fr.bN.Awake:return(0,s.BX)(D.G7,{css:[Zi,D.l0.color.accentPositiveDefault],children:[(0,s.tZ)(fe.Z,{size:12}),(0,s.tZ)(D.xv,{children:"Awake"})]});case Fr.bN.AlwaysOn:return(0,s.BX)(D.G7,{css:[Zi,D.l0.color.accentPositiveDefault],children:[(0,s.tZ)(D.G7,{as:"span",css:[D.l0.width("8px"),D.l0.height("8px"),D.l0.borderRadius("full"),D.l0.backgroundColor.greenDefault,{boxShadow:"0 0 12px var(--accent-green-default)"}]}),(0,s.tZ)("div",{className:"always-on-indicator","aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip"}),(0,s.tZ)(D.xv,{children:"Always On"})]});case Fr.bN.Asleep:return(0,s.BX)(D.G7,{css:[Zi,D.l0.color.foregroundDimmer],children:[(0,s.tZ)(vi.Z,{size:12}),(0,s.tZ)(D.xv,{children:"Asleep"})]});default:return(0,s.tZ)(s.HY,{})}},bi=function(e){var n=e.task,t=(0,wn.Z)(e,["task"]);return(0,s.BX)(D.G7,(0,v.Z)((0,o.Z)({},t),{children:[(0,s.tZ)(D.Qd,{css:[D.l0.flex.growAndShrink(1)],headerContent:function(e){var t=e.toggle,r=e.toggleAttributes;return(0,s.BX)(D.G7,{css:[D.l0.ml(8),D.l0.justify.spaceEvenly,D.l0.align.stretch,D.l0.flex.wrap,D.l0.rowWithGap(16),D.l0.flex.growAndShrink(1)],children:[(0,s.tZ)(D.G7,{css:[D.l0.rowWithGap(8),D.l0.width("40%"),D.l0.flex.growAndShrink(1),(0,i.Z)({},(0,M.EM)("tabletMin"),[D.l0.width("100%"),D.l0.flex.growAndShrink(1)])],children:(0,s.tZ)(ye(),(0,v.Z)((0,o.Z)({},(0,ee.aq)(n.repl)),{passHref:!0,children:(0,s.BX)("a",{target:"_blank",css:[D.l0.color.foregroundDefault,D.l0.display.flex,D.l0.align.center,D.l0.rowWithGap(8),D.l0.width("100%"),{":hover":(0,o.Z)({},D.l0.color.foregroundDimmest)}],children:[(0,s.tZ)(Me.Z,{iconUrl:n.repl.iconUrl,alt:""}),(0,s.tZ)(D.xv,{variant:"subheadDefault",css:[D.l0.flex.growAndShrink(1),D.l0.textAlign.left],children:n.repl.title})]})}))}),(0,s.tZ)(D.G7,(0,v.Z)((0,o.Z)({css:[D.l0.flex.growAndShrink(1),D.l0.justify.center,D.l0.reset.button,D.gU.listItem]},r),{onClick:t,children:(0,s.BX)(D.G7,{css:[D.l0.width("230px"),D.l0.rowWithGap(8),D.l0.justify.spaceBetween,(0,i.Z)({},(0,M.EM)("tabletMin"),[D.l0.width("100%"),D.l0.justify.start,D.l0.pt(8)])],children:[(0,s.tZ)(gi,{status:n.status}),(0,s.tZ)(D.xv,{css:[D.l0.color.foregroundDimmest,D.l0.ml(8)],children:(0,ei.Z)(new Date(n.timestamp),Date.now(),{addSuffix:!0})})]})}))]})},chevron:"start",toggleOn:"chevron",children:(0,s.tZ)(ai,{task:n})}),(0,s.tZ)(mi,{task:n})]}))},wi=function(e){var n=e.tasks;return n?0===n.length?(0,s.tZ)(D.G7,{css:[D.l0.center,D.l0.p(32)],children:(0,s.tZ)(D.xv,{variant:"subheadBig",children:"No results"})}):(0,s.tZ)(D.G7,{css:[D.l0.colWithGap(4)],children:n.map((function(e,t){var r=0===t,o=t+1===n.length,l=r&&o&&D.l0.borderRadius(8)||r&&D.l0.borderRadius(8,8,0,0)||o&&D.l0.borderRadius(0,0,8,8)||null;return(0,s.tZ)(bi,{css:[l,D.l0.backgroundColor.backgroundDefault,D.l0.p(12),D.l0.flex.row,D.l0.position.relative,(0,i.Z)({},(0,M.EM)("tabletMin"),[D.l0.p(8)])],task:e},e.repl.id)}))}):(0,s.tZ)(s.HY,{})},xi=t(10164),yi=t(62794),Ci=function(){var e=(0,l.Z)(u.useState(Fr.l6.StatusDescending),2),n=e[0],t=e[1],i=[{value:Fr.l6.StatusDescending,title:"Run Status"},{value:Fr.l6.LatestActivity,title:"Latest Activity"}],c=function(e){var n=(0,o.Z)({},Nr,e);return C.a(Hr,n)}({variables:{input:{sort:n,count:10}},fetchPolicy:"cache-and-network"}),d=c.data,f=c.loading,p=c.error,m=c.fetchMore,g="ReplBootStatusConnection"===(null===d||void 0===d?void 0:d.replBootStatus.__typename)&&d.replBootStatus.pageInfo.hasNextPage,b=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return f||"ReplBootStatusConnection"!==(null===d||void 0===d?void 0:d.replBootStatus.__typename)||!d.replBootStatus.pageInfo.hasNextPage||null==d.replBootStatus.pageInfo.nextCursor?[2]:[4,m({variables:{input:{after:d.replBootStatus.pageInfo.nextCursor,count:10,sort:n}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),w=(0,cn.Z)({onLoadMore:b,rootMargin:"0px 0px 300px 0px"}).targetRef,x=(0,l.Z)(u.useState(null),2),y=x[0],R=x[1],k=(0,l.Z)(u.useState(null===p||void 0===p?void 0:p.message),2),U=k[0],P=k[1];!function(e){var n=(0,o.Z)({},Nr,e);Xr.m($r,n)}({onData:function(e){var n=e.data.data,t=e.client,r=null===n||void 0===n?void 0:n.replBootStatusUpdates;if(r&&y)switch(r.__typename){case"ReplBootStatusUpdateEvent":var i=(0,Z.Z)(y),l=i.findIndex((function(e){return e.repl.id===r.repl.id}));if(-1!==l){var a=i[l];i[l]=(0,o.Z)({},a,r,a.status===Fr.bN.AlwaysOn?{status:Fr.bN.AlwaysOn}:{})}else{var s=(0,o.Z)({},r);i.push(s)}var u="ReplBootStatusConnection"===(null===d||void 0===d?void 0:d.replBootStatus.__typename)&&(null===d||void 0===d?void 0:d.replBootStatus);if(!u){P("Unexpected error occurred");break}t.writeQuery({query:Hr,data:{replBootStatus:(0,v.Z)((0,o.Z)({},u),{items:i})}})}},onError:function(e){return P(e.message)}});var S=u.useMemo((function(){if(!y)return null;if(0===y.length)return[];var e=(0,Z.Z)(y);switch(n){case Fr.l6.LatestActivity:e.sort(Jr);break;case Fr.l6.StatusDescending:default:e.sort(Kr)}return e}),[y,n]);return u.useEffect((function(){if(null===d||void 0===d?void 0:d.replBootStatus)switch(d.replBootStatus.__typename){case"ReplBootStatusConnection":R(d.replBootStatus.items);break;case"UnauthorizedError":P(d.replBootStatus.message)}}),[d,U]),(0,s.tZ)(D.G7,{css:[D.l0.px(16)],children:(0,s.BX)(D.G7,{css:[D.l0.colWithGap(16)],children:[(0,s.tZ)(yi.Z,{feature:xi.l.StatusManager}),(0,s.BX)(D.G7,{css:[D.l0.backgroundColor.backgroundDefault,D.l0.justify.spaceBetween,D.l0.align.center,D.l0.px(12),D.l0.py(8),D.l0.borderRadius(8),D.l0.rowWithGap(32)],children:[(0,s.tZ)(D.xv,{css:[D.l0.color.foregroundDimmest,D.l0.flex.growAndShrink(1)],multiline:!0,children:"Repl run status from the last 7 days is shown."}),(0,s.BX)(D.G7,{css:[D.l0.align.center,D.l0.rowWithGap(8)],children:[(0,s.tZ)(D.xv,{css:[D.l0.color.foregroundDimmest],children:"Sort:"}),(0,s.tZ)(D.Ph,{css:[D.l0.backgroundColor.backgroundHigher],"aria-label":"Sort",items:i,selectedItem:i.find((function(e){return e.value===n})),onChange:function(e){return t(e.value)}})]})]}),(0,s.BX)(D.G7,{css:[D.l0.pb(48)],children:[U?(0,s.tZ)(D.G7,{css:[D.l0.pb(8),D.l0.center,D.l0.align.stretch],children:(0,s.tZ)(D.E_,{colorway:"warning",icon:(0,s.tZ)(Yr.Z,{}),text:U})}):null,f?(0,s.tZ)(D.G7,{css:[D.l0.p(8),D.l0.center],children:(0,s.tZ)(h.Z,{})}):(0,s.tZ)(wi,{tasks:S||void 0}),!f&&g?(0,s.tZ)(D.G7,{css:[D.l0.center,D.l0.pt(16)],children:(0,s.tZ)(D.hU,{tooltipHidden:!0,alt:"Show more",onClick:b,ref:w,children:(0,s.tZ)(Qr.Z,{})})}):null]})]})})};!function(e){e[e.ReplDialog=0]="ReplDialog",e[e.Publish=1]="Publish",e[e.None=2]="None"}(pi||(pi={}));var Ri=function(){var e,n,t,r,a,m,v,Z=(0,d.useRouter)(),g=Z.query,b=Z.asPath,w=(0,_r.Z)("username","string")||"",x=(0,_r.Z)("order","string"),y=(0,_r.Z)("count","number"),C=(0,_r.Z)("showcasedReplIndex","number"),R=(0,l.Z)(function(){var e=(0,_r.Z)("dialogReplId","string"),n=(0,l.Z)(u.useState(pi.None),2),t=n[0],r=n[1];return e?[pi.ReplDialog,e,r]:[t,void 0,r]}(),3),k=R[0],U=R[1],P=R[2],S=(0,ht.DC)({variables:{username:w}}),B=S.data,I=S.loading,E=S.error,X=S.refetch,T=null===B||void 0===B?void 0:B.currentUser,W=null===B||void 0===B?void 0:B.user,A=function(e){var n=(0,_r.Z)("tab","string");return dt.find((function(e){return e===n}))||(e?"repls":"community")}((null===T||void 0===T?void 0:T.username)===(null===W||void 0===W?void 0:W.username)),O=(0,Qn.c)("flag-task-manager"),L=O.enabled,N=O.loading,z=L&&!N,j=(0,Kt.vT)(b),V=(0,Kt.EZ)(j);if(E)return(0,s.tZ)(c.default,{statusCode:404});var H=!I&&W&&void 0!==C?W.pinnedRepls[C]:void 0,$=(null===T||void 0===T?void 0:T.username)===w,F=$?null===T||void 0===T?void 0:T.hasRepl:(null===W||void 0===W||null===(e=W.publicRepls)||void 0===e?void 0:e.items)&&(null===W||void 0===W||null===(n=W.publicRepls)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.length)>0,Y=(null===H||void 0===H?void 0:H.description)||(null===W||void 0===W?void 0:W.bio)||void 0,q=(null===H||void 0===H?void 0:H.imageUrl)||(null===W||void 0===W?void 0:W.image),K="";if(W){var J=W.fullName?" (".concat(W.fullName,")"):"";K=W.username+J,H&&(K="".concat(H.title," by ").concat(K))}var Q,ee=W&&(0,s.tZ)(Ne,{currentUser:T,refetchRepls:X,user:W});return(0,s.BX)(f.Z,{description:Y,image:q,title:K,children:[(0,s.tZ)(kr,{username:w,isOwnProfile:$}),I?(0,s.tZ)(D.G7,{css:[D.l0.align.center,D.l0.pt(32)],children:(0,s.tZ)(h.Z,{})}):W?W.redirectToTeamDashboard?(0,s.tZ)(He,{username:W.username}):(0,s.BX)(D.G7,{css:[D.l0.flex.row,D.l0.width("100%"),D.l0.maxWidth(1400),(0,i.Z)({flexDirection:"column",paddingTop:104},(0,M.et)("tabletMax"),{flexDirection:"row",margin:"0 auto",paddingTop:96})],children:[(0,s.BX)(D.G7,{css:[D.l0.pb(32),D.l0.px(16),D.l0.position.relative,D.l0.colWithGap(8),(Q={},(0,i.Z)(Q,(0,M.et)("tabletMin"),[D.l0.flex.column]),(0,i.Z)(Q,(0,M.et)("tabletMax"),[D.l0.colWithGap(16),D.l0.position.sticky,D.l0.top(96),{alignSelf:"start"}]),(0,i.Z)(Q,(0,M.EM)("tabletMax"),[D.l0.pb(0)]),Q)],children:[(0,s.tZ)(lt,{user:W,currentUser:T,onUpdate:X}),!(null===(r=B.user)||void 0===r?void 0:r.isBlockingCurrentUser)&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(Er,{username:W.username}),(0,s.tZ)(ir.ZP,{user:W})]})]}),(0,s.tZ)(D.G7,{css:[D.l0.flex.grow(2),D.l0.flex.shrink(2),(null===(a=W.pinnedRepls)||void 0===a?void 0:a.length)<1&&!$&&D.l0.pt(128),(0,i.Z)({},(0,M.EM)("tabletMax"),[(null===(m=W.pinnedRepls)||void 0===m?void 0:m.length)<1&&D.l0.pt(0)])],children:!$&&(null===B||void 0===B?void 0:B.user)&&B.user.isBlockingCurrentUser?(0,s.tZ)(D.G7,{css:[D.l0.align.center,D.l0.colWithGap(64),D.l0.pt(32),D.l0.zIndex(2),(0,i.Z)({},(0,M.EM)("tabletMin"),(0,o.Z)({},D.l0.p(4),D.l0.colWithGap(32)))],children:(0,s.BX)(D.G7,{css:[D.l0.colWithGap(24),D.l0.align.center,D.l0.textAlign.center],children:[(0,s.tZ)(D.xv,{variant:"subheadBig",multiline:!0,children:"You're blocked"}),(0,s.BX)(D.xv,{multiline:!0,children:["You can't follow, comment or see ",B.user.username,"'s Repls on their profile."]})]})}):(0,s.tZ)(s.HY,{children:F?(0,s.BX)(D.G7,{css:[D.l0.colWithGap(16),D.l0.mt(16)],children:[(null===(v=W.pinnedRepls)||void 0===v?void 0:v.length)>0&&ee,(null===T||void 0===T?void 0:T.id)===W.id&&W.pinnedRepls.length<1&&(0,s.tZ)(Dr,{refetchRepls:X}),(0,s.tZ)(pt,{currentTab:A,currentUser:T,isOwnProfile:$}),"repls"===A?(0,s.BX)(D.G7,{css:D.l0.px(16),children:[$&&(0,s.BX)(D.G7,{css:[D.l0.flex.row,D.l0.justify.spaceBetween,D.l0.align.center,D.l0.mb(16),D.l0.mt(4)],children:[(0,s.tZ)(Tt.Z,{links:V,username:w}),T&&(T.isAdmin||!T.isPrivacyAccount)&&(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(or.Z,{}),colorway:"primary",text:"Publish a Repl",onClick:function(){P(pi.Publish)}})]}),(0,s.tZ)(D.G7,{css:[D.l0.pb(128)],children:$?(0,s.tZ)(Xt.Z,{path:j,starred:g.starred?!!g.starred:void 0,refetchRepls:X}):(0,s.tZ)(qt,{user:W})})]}):null,"community"===A?(0,s.tZ)(G,{username:w,order:null!==x&&void 0!==x?x:"new",count:y}):null,z&&"status"===A&&$?(0,s.tZ)(Ci,{}):null,"warnings"===A&&((null===T||void 0===T?void 0:T.isAdmin)||(null===T||void 0===T?void 0:T.isModerator))?(0,s.tZ)(Mt,{username:w}):null]}):(0,s.tZ)(rr,{isOwnProfile:$})})})]}):(0,s.tZ)(p.Z,{}),(0,s.tZ)(_.Z,{isOpen:k===pi.ReplDialog,onRequestClose:function(){W&&Z.push({pathname:"/profile",query:{username:W.username,tab:A}},"?tab="+A,{shallow:!0})},maxWidth:1200,children:U&&(0,s.tZ)(mt.Z,{replId:U})}),(0,s.tZ)(_.Z,{isOpen:k===pi.Publish,onRequestClose:function(){return P(pi.None)},maxWidth:872,noPadding:!0,fitContent:!0,children:(0,s.tZ)(Gr.Z,{source:"profile"})})]})};Ri.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,m.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var ki=Ri},37229:function(e,n,t){"use strict";t.d(n,{F5:function(){return d},Hk:function(){return u},Kd:function(){return c},N$:function(){return s},Ob:function(){return a},Vl:function(){return l},Vt:function(){return r},ig:function(){return i},lF:function(){return o}});var r=/^([A-Za-z0-9_]{1,15})\/?$/g,i=/^(([A-Za-z0-9]+)|-)*\/?$/g,o=/^([A-Za-z\d](?:[A-Za-z\d]|-){0,38})\/?$/g,l=/^https:\/\/(www\.)?youtube\.com(\/(c|channel|user|@(\w)+))*(\/([A-Za-z0-9_-]+))*(\/?)$/g,a=/^.{2,32}#[0-9]{4}$/,s="https://twitter.com/",u="https://www.linkedin.com/in/",c="https://github.com/",d=/\/$/},19409:function(){},12918:function(e,n,t){e.exports=t(89185)}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3662,3443,3032,8966,4778,5395,7485,7651,5499,4837,7182,6427,1889,6048,9922,8850,8723,4718,2350,7194,4924,7669,6808,4710,8401,7667,8474,1822,3149,3426,5398,9645,9774,2888,179],(function(){return n(97239),n(34270)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=profile-5d5acc96c3d5cc19.js.map