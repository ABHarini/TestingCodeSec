(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2473],{24093:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return n(1112)}])},99520:function(e,t,n){"use strict";n.d(t,{g1:function(){return f},h$:function(){return h}});var i=n(35944),o=n(87603),r=n.n(o),a=n(63805),s=(n(67294),n(41664)),l=n.n(s),c=n(51282),u=n(57996),d=function(){return(0,i.BX)("header",{className:"jsx-fee93be6fc0d4345 auth-header",children:[(0,i.tZ)("div",{className:"jsx-fee93be6fc0d4345 auth-header-logo",children:(0,i.tZ)("div",{className:"jsx-fee93be6fc0d4345",children:(0,i.tZ)(l(),{href:"/",children:(0,i.tZ)("a",{"aria-label":"Home",className:"jsx-fee93be6fc0d4345 auth-header-logo-link",children:(0,i.tZ)(u.Bs,{})})})})}),(0,i.tZ)(r(),{id:"fee93be6fc0d4345",children:".auth-header.jsx-fee93be6fc0d4345{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 25px;background-color:var(--background-default);border-bottom:var(--accent-grey-strongest);height:60px}.auth-header-logo-link.jsx-fee93be6fc0d4345{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:40px;color:var(--foreground-default);overflow:hidden;text-decoration:none}.auth-header-logo.jsx-fee93be6fc0d4345,.auth-header-nav.jsx-fee93be6fc0d4345{width:70px}.auth-header-title.jsx-fee93be6fc0d4345{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;font-weight:normal;color:black;font-size:130%}@media(min-width:400px){.auth-header-logo-link.jsx-fee93be6fc0d4345{width:116px}}"})]})},h=function(e){var t=e.heading,n=e.subHeading;return(0,i.BX)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-header",children:[(0,i.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-heading",children:t}),n?(0,i.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-subheading",children:n}):null,(0,i.tZ)(r(),{id:"84d0af9587a0f99d",children:".auth-welcome-header.jsx-84d0af9587a0f99d{width:100%;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;background-color:rgb(81,146,179);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:200px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:20px}.auth-welcome-heading.jsx-84d0af9587a0f99d{font-size:44px;color:rgb(255,255,255);font-weight:100;white-space:nowrap;width:75%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-align:center}.auth-welcome-subheading.jsx-84d0af9587a0f99d{font-size:20px;font-weight:400;margin-top:5px;color:rgba(255,255,255,.5)}"})]})},f=function(e){var t=e.children,n=e.title,o=e.description,s=e.image,l=e.minHeight;return(0,i.BX)(c.Z,{title:n,description:o,image:s,style:{paddingTop:0},noFooter:!0,noHeader:!0,hideEmailVerify:!0,noSidebar:!0,children:[(0,i.tZ)(d,{title:n}),(0,i.tZ)("main",{className:r().dynamic([["db3dac485ad79831",[null!==l&&void 0!==l?l:"100vh",(0,a.isMobile)({tablet:!0})?"-40px":"-60px",(0,a.isMobile)({tablet:!0})?"20px":"0px"]]])+" auth-layout-content",children:t}),(0,i.tZ)(r(),{id:"db3dac485ad79831",dynamic:[null!==l&&void 0!==l?l:"100vh",(0,a.isMobile)({tablet:!0})?"-40px":"-60px",(0,a.isMobile)({tablet:!0})?"20px":"0px"],children:".auth-layout-content.__jsx-style-dynamic-selector{min-height:".concat(null!==l&&void 0!==l?l:"100vh",";padding-top:60px;margin-top:").concat((0,a.isMobile)({tablet:!0})?"-40px":"-60px",";margin-bottom:").concat((0,a.isMobile)({tablet:!0})?"20px":"0px",";display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}")})]})}},54854:function(e,t,n){"use strict";function i(e,t){if(!e)return null;var n=e[t];return n?Array.isArray(n)?null:n:null}n.d(t,{Z:function(){return i}})},70338:function(e,t,n){"use strict";var i=n(34727),o=n(70655),r=n(15794);t.Z=function(){var e=(0,i.Z)((function(e,t){var n,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e?(n=e.user,[3,4]):[3,1];case 1:return(i=t.getState().user)&&i.userInfo.isLoggedIn&&i.userInfo?(n=i.userInfo,[3,4]):[3,2];case 2:return[4,(0,r.LK)("/is_authenticated")];case 3:(a=o.sent()).success&&(n=a.user),o.label=4;case 4:return n&&(e&&(n=JSON.parse(JSON.stringify(n))),t.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:n})),[2,{user:n}]}}))}));return function(t,n){return e.apply(this,arguments)}}()},1112:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var i=n(34727),o=n(75815),r=n(90132),a=n(14251),s=n(48270),l=n(70655),c=n(35944),u=n(67294),d=n(11163),h=n.n(d),f=n(15366),p=n(76427),m=n.n(p),g=n(99520),b=n(37504),x=n(70653),w=n(70338),y=function(){return{href:"/home",as:"/~"}},v=n(11987),k=function(e,t){var n=e.host,i=e.protocol,o=t?(0,v.parse)(t,!0):{query:{},pathname:"/"},r=o.query,a=o.pathname;return(0,v.format)({protocol:i,host:n,pathname:a,query:r})},Z=n(54854),j=n(33781),_=n(89735),S=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).handleSubmit=function(t){if("error"in t&&t.error)e.props.showMessage({content:t.error,type:"error",time:3e3});else{if(!("user"in t)||!t.user)throw new Error("Expected error or user object");var n=t.user.postLoginRedirectUrl;if(null!=n&&n.length>0)window.location.href=n;else{var i=e.state,o=i.isLogin,r=i.isTeacher;e.props.showMessage({content:"".concat(o?"Log in":"Signup"," Successful"),type:"confirm",time:2e3});var a=e.props.router.query,s=o&&!t.social||t.social&&!t.newUser,l=(0,Z.Z)(a,"goto");if(s)if(l)window.location.href=k(window.location,l);else{var c=y().as;window.location.href=c}else(0,_.j)(t.user.id.toString()),window.location.href=l?k(window.location,l):r?"/teams/free-trial":"/~?onboarding=1"}}},e.handleChangeAuth=function(){var t=e.props.router.query;e.setState((function(e){return{isLogin:!e.isLogin}}),(function(){var n=e.state.isLogin?"/login":"/signup";h().push({pathname:"/auth",query:t},{pathname:n,query:t},{shallow:!0})}))},e.toggleTeacher=function(){var t=e.props.router.query;e.setState((function(e){return{isTeacher:!e.isTeacher}}),(function(){var n=(0,a.Z)({},t);delete n.teacher,e.state.isTeacher&&(n.teacher="1"),h().push({pathname:"/auth",query:n},{pathname:"/signup",query:n},{shallow:!0})}))},e}var u=n.prototype;return u.UNSAFE_componentWillMount=function(){var e=this.props.router.asPath;if(e){var t=e.includes("/login"),n="teacher"in m()(this.props.router.query,"path");this.setState({isLogin:t,isTeacher:n})}},u.componentDidMount=function(){h().replace({pathname:h().pathname,query:h().query},h().asPath.includes("/login")?"/login":"/signup",{shallow:!0})},u.render=function(){var e=m()(this.props.router.query,"path"),t=this.state,n=t.isTeacher,i=t.isLogin,o=e.title,r=e.description,a=e.imageUrl,s=e.bannerMessage,l=i?"Log In":"Sign Up";return(0,c.BX)(g.g1,{title:o||l,description:r,image:a,minHeight:"100vh",children:[e.googleClassroom&&(0,c.tZ)(g.h$,{heading:"Welcome to Teams for Education",subHeading:"Please use your Google account to join your team"}),(0,c.tZ)(b.Z,{email:e.email?e.email.toString():void 0,isLogin:i,isTeacher:n,onSubmit:this.handleSubmit,onChangeAuth:this.handleChangeAuth,toggleTeacher:this.toggleTeacher,privacyInvite:e.invite?e.invite.toString():void 0,randomUsername:e.randomUsername?e.randomUsername.toString():void 0,googleClassroom:Boolean(e.googleClassroom),message:s,source:(0,Z.Z)(e,"source")||(0,Z.Z)(e,"utm_campaign")||void 0}),(0,c.tZ)(j.Z,{})]})},n.getInitialProps=function(e){var t=e.req,n=e.store;return(0,i.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return t?[3,2]:[4,(0,w.Z)(t,n)];case 1:e.sent().user&&h().replace("/replsDashboard",{pathname:"/repls"}),e.label=2;case 2:return[2,{}]}}))}))()},n}(u.Component),z=(0,f.$j)(null,{showMessage:x.P})(S)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[2240,3662,3032,8966,6427,6048,9922,8850,8723,9774,2888,179],(function(){return t(97239),t(24093)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=auth-224e97949207f21f.js.map